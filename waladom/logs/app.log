2025-01-28 01:23:23,616 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 61412 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 01:23:23,622 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 01:23:23,622 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 01:23:24,462 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 01:23:24,541 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 71 ms. Found 13 JPA repository interfaces.
2025-01-28 01:23:25,174 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 01:23:25,186 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 01:23:25,187 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 01:23:25,233 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 01:23:25,234 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1554 ms
2025-01-28 01:23:25,298 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 01:23:25,442 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 01:23:25,498 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 01:23:25,527 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 01:23:25,763 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 01:23:25,787 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 01:23:26,524 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3b66ac74
2025-01-28 01:23:26,526 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 01:23:26,762 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 01:23:27,870 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 01:23:29,718 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:23:30,076 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 01:23:31,922 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 01:23:31,974 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 01:23:32,676 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 01:23:32,686 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.51 seconds (process running for 10.156)
2025-01-28 01:23:32,688 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 01:24:08,749 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 01:24:08,751 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 01:24:08,758 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:24:08,760 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 01:24:08,845 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 01:24:10,927 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 61557 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 01:24:10,929 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 01:24:10,930 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 01:24:11,777 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 01:24:11,852 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 67 ms. Found 13 JPA repository interfaces.
2025-01-28 01:24:12,502 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 01:24:12,523 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 01:24:12,524 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 01:24:12,587 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 01:24:12,588 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1593 ms
2025-01-28 01:24:12,687 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 01:24:12,815 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 01:24:12,864 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 01:24:12,889 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 01:24:13,105 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 01:24:13,127 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 01:24:13,770 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@570ed9c
2025-01-28 01:24:13,772 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 01:24:14,000 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 01:24:14,969 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 01:24:16,760 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:24:17,080 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 01:24:18,846 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 01:24:18,891 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 01:24:19,526 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 01:24:19,534 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.131 seconds (process running for 9.816)
2025-01-28 01:24:19,537 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 01:28:53,281 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 01:28:53,283 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 01:28:53,289 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:28:53,292 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 01:28:53,374 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 01:28:55,313 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 61921 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 01:28:55,315 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 01:28:55,316 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 01:28:56,097 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 01:28:56,184 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 72 ms. Found 13 JPA repository interfaces.
2025-01-28 01:28:56,847 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 01:28:56,861 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 01:28:56,861 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 01:28:56,908 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 01:28:56,908 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1543 ms
2025-01-28 01:28:56,976 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 01:28:57,102 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 01:28:57,160 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 01:28:57,185 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 01:28:57,413 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 01:28:57,445 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 01:28:58,163 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@74a5bef0
2025-01-28 01:28:58,165 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 01:28:58,407 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 01:28:59,409 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 01:29:01,607 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:29:01,938 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 01:29:03,580 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 01:29:03,628 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 01:29:04,282 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 01:29:04,290 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.41 seconds (process running for 10.17)
2025-01-28 01:29:04,293 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 01:30:52,150 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 01:30:52,153 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 01:30:52,159 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:30:52,161 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 01:30:52,246 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 01:30:54,137 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 62140 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 01:30:54,139 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 01:30:54,887 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 01:30:54,986 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 86 ms. Found 13 JPA repository interfaces.
2025-01-28 01:30:55,664 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 01:30:55,677 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 01:30:55,677 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 01:30:55,732 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 01:30:55,732 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1545 ms
2025-01-28 01:30:55,907 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 01:30:55,962 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 01:30:55,987 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 01:30:56,210 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 01:30:56,232 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 01:30:56,967 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@570ed9c
2025-01-28 01:30:56,969 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 01:30:57,213 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 01:30:58,345 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 01:31:00,398 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:31:00,755 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 01:31:02,480 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 01:31:02,522 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 01:31:03,198 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 01:31:03,206 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.475 seconds (process running for 10.219)
2025-01-28 01:31:03,209 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 01:35:38,186 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 01:35:38,188 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 01:35:38,194 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:35:38,196 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 01:35:38,287 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 01:35:41,725 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 62621 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 01:35:41,728 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 01:35:42,603 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 01:35:42,694 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 82 ms. Found 13 JPA repository interfaces.
2025-01-28 01:35:43,423 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 01:35:43,459 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 01:35:43,460 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 01:35:43,578 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 01:35:43,578 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1778 ms
2025-01-28 01:35:43,937 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 01:35:44,003 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 01:35:44,044 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 01:35:44,376 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 01:35:44,416 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 01:35:45,122 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@145fe8ab
2025-01-28 01:35:45,123 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 01:35:45,369 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 01:35:46,384 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 01:35:48,145 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:35:48,439 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 01:35:50,354 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 01:35:50,430 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 01:35:50,486 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 01:35:51,273 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 01:35:51,281 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.991 seconds (process running for 10.665)
2025-01-28 01:35:51,285 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 01:37:21,270 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 01:37:21,273 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 01:37:21,291 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 18 ms
2025-01-28 01:45:04,465 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 01:45:04,500 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 01:45:04,531 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:45:04,560 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 01:45:04,684 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 01:45:07,487 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 63717 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 01:45:07,489 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 01:45:07,490 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 01:45:08,285 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 01:45:08,359 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 65 ms. Found 13 JPA repository interfaces.
2025-01-28 01:45:09,017 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 01:45:09,030 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 01:45:09,031 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 01:45:09,082 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 01:45:09,083 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1528 ms
2025-01-28 01:45:09,158 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 01:45:09,286 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 01:45:09,356 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 01:45:09,395 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 01:45:09,663 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 01:45:09,688 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 01:45:10,547 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f655dbd
2025-01-28 01:45:10,549 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 01:45:10,843 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 01:45:11,876 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 01:45:14,106 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 01:45:14,443 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 01:45:16,175 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 01:45:16,270 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 01:45:16,322 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 01:45:17,086 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 01:45:17,094 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.045 seconds (process running for 10.886)
2025-01-28 01:45:17,098 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 01:45:37,486 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 01:45:37,487 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 01:45:37,489 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 01:45:37,644 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@3d68007e
2025-01-28 01:45:37,785 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 01:45:37,880 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 01:45:37,984 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 01:45:38,059 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        waladom_id_photos
        (CREATED_AT, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 01:45:38,112 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 01:45:38,163 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 01:45:38,220 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 01:45:38,341 DEBUG c.p.w.u.UserController [http-nio-8083-exec-1] User creation response: <200 OK OK,com.phanta.waladom.user.UserResponseDTO@31eb7216,[]>
2025-01-28 03:03:33,178 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 7271 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 03:03:33,180 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 03:03:33,181 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 03:03:34,188 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 03:03:34,313 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 111 ms. Found 13 JPA repository interfaces.
2025-01-28 03:03:35,132 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 03:03:35,161 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 03:03:35,162 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 03:03:35,259 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 03:03:35,260 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2001 ms
2025-01-28 03:03:35,347 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 03:03:35,651 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 03:03:35,740 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 03:03:35,779 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 03:03:36,074 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 03:03:36,106 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 03:03:37,099 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1dd64243
2025-01-28 03:03:37,101 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 03:03:37,409 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 03:03:38,795 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 03:03:40,872 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 03:03:41,283 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 03:03:43,376 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 03:03:43,501 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 03:03:43,581 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 03:03:44,522 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 03:03:44,531 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 11.888 seconds (process running for 12.798)
2025-01-28 03:03:44,535 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 03:04:25,733 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 03:04:25,738 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 03:04:25,750 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 03:04:25,754 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 03:04:25,856 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 03:04:29,731 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 7394 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 03:04:29,733 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 03:04:29,735 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 03:04:30,636 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 03:04:30,736 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 90 ms. Found 13 JPA repository interfaces.
2025-01-28 03:04:31,478 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 03:04:31,494 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 03:04:31,495 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 03:04:31,556 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 03:04:31,556 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1736 ms
2025-01-28 03:04:31,643 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 03:04:31,811 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 03:04:31,871 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 03:04:31,900 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 03:04:32,153 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 03:04:32,182 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 03:04:33,019 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f655dbd
2025-01-28 03:04:33,021 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 03:04:33,316 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 03:04:34,472 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 03:04:36,556 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 03:04:36,936 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 03:04:38,863 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 03:04:38,951 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 03:04:39,002 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 03:04:39,814 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 03:04:39,826 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.723 seconds (process running for 11.528)
2025-01-28 03:04:39,829 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 03:06:33,670 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 03:06:33,670 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 03:06:33,673 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 03:08:06,141 INFO c.p.w.u.UserController [http-nio-8083-exec-2] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@70566c33
2025-01-28 03:08:06,143 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] Starting validation for user request.
2025-01-28 03:08:06,143 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] User request validation passed successfully.
2025-01-28 03:08:06,310 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 03:08:06,430 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:08:06,592 DEBUG c.p.w.u.UserController [http-nio-8083-exec-2] User creation response: <400 BAD_REQUEST Bad Request,{status=400, path=/api/user/createDTO, error=User already exists, timestamp=2025-01-28T03:08:06.512304420, message=User already exists with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d},[]>
2025-01-28 03:14:19,624 INFO c.p.w.u.UserController [http-nio-8083-exec-4] Updating user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:14:19,627 INFO c.p.w.u.UserService [http-nio-8083-exec-4] Entering method isEmpty() for requestBody
2025-01-28 03:14:19,627 INFO c.p.w.u.UserService [http-nio-8083-exec-4] Starting updateUser method for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:14:19,694 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 03:14:19,748 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:14:19,848 INFO c.p.w.u.UserService [http-nio-8083-exec-4] User found. Proceeding with updates for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:14:19,848 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated firstName to: Ibrahim
2025-01-28 03:14:19,848 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated lastName to: Ahmed
2025-01-28 03:14:20,013 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated password.
2025-01-28 03:14:20,013 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated phone to: +249123456789
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated isActive to: true
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated status to: Active
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated tribe to: Nomadic
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated currentCountry to: Sudan
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated currentCity to: Khartoum
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated currentVillage to: Al Salam Village
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated birthDate to: 1990-05-15
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated birthCountry to: Sudan
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated birthCity to: Omdurman
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated birthVillage to: Al Noor Village
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated maritalStatus to: Single
2025-01-28 03:14:20,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated numberOfKids to: 0
2025-01-28 03:14:20,015 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated occupation to: Engineer
2025-01-28 03:14:20,016 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated sex to: m
2025-01-28 03:14:20,016 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated mothersFirstName to: Fatima
2025-01-28 03:14:20,016 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated mothersLastName to: Ali
2025-01-28 03:14:20,016 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated nationalities to: [Sudanese, Egyptian]
2025-01-28 03:14:20,016 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated comments to: New registration for Ibrahim
2025-01-28 03:14:20,016 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updated connectionMethod to: phone
2025-01-28 03:14:20,018 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Validating role for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:14:20,019 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:14:20,118 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updating role for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:14:20,119 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Updating front ID proof photo for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:14:20,237 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT,
        ipp1_0.USER_ID 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=? 
        and ipp1_0.PHOTO_TYPE=?
2025-01-28 03:14:20,289 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT,
        ipp1_0.USER_ID 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.ID=?
2025-01-28 03:14:20,354 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    update
        id_proof_photos 
    set
        PHOTO_TYPE=?,
        PHOTO_URL=?,
        UPDATED_AT=?,
        USER_ID=? 
    where
        ID=?
2025-01-28 03:14:20,474 ERROR c.p.w.u.UserController [http-nio-8083-exec-4] Error updating user with ID WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d: failed to lazily initialize a collection of role: com.phanta.waladom.user.User.idProofPhotos: could not initialize proxy - no Session
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.phanta.waladom.user.User.idProofPhotos: could not initialize proxy - no Session
	at org.hibernate.collection.spi.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:635)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:219)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.write(AbstractPersistentCollection.java:444)
	at org.hibernate.collection.spi.PersistentBag.add(PersistentBag.java:388)
	at com.phanta.waladom.user.UserService.updateUser(UserService.java:430)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723)
	at com.phanta.waladom.user.UserService$$SpringCGLIB$$0.updateUser(<generated>)
	at com.phanta.waladom.user.UserController.updateUser(UserController.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.phanta.waladom.oauthToken.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-01-28 03:17:12,859 INFO c.p.w.u.UserController [http-nio-8083-exec-6] Updating user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:12,859 INFO c.p.w.u.UserService [http-nio-8083-exec-6] Entering method isEmpty() for requestBody
2025-01-28 03:17:12,859 INFO c.p.w.u.UserService [http-nio-8083-exec-6] Starting updateUser method for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:12,909 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 03:17:12,961 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:17:13,060 INFO c.p.w.u.UserService [http-nio-8083-exec-6] User found. Proceeding with updates for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:13,060 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated firstName to: Ibrahim
2025-01-28 03:17:13,060 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated lastName to: Ahmed
2025-01-28 03:17:13,183 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated password.
2025-01-28 03:17:13,183 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated phone to: +249123456789
2025-01-28 03:17:13,183 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated isActive to: true
2025-01-28 03:17:13,183 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated status to: Active
2025-01-28 03:17:13,183 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated tribe to: Nomadic
2025-01-28 03:17:13,183 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated currentCountry to: Sudan
2025-01-28 03:17:13,183 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated currentCity to: Khartoum
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated currentVillage to: Al Salam Village
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated birthDate to: 1990-05-15
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated birthCountry to: Sudan
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated birthCity to: Omdurman
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated birthVillage to: Al Noor Village
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated maritalStatus to: Single
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated numberOfKids to: 0
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated occupation to: Engineer
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated sex to: m
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated mothersFirstName to: Fatima
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated mothersLastName to: Ali
2025-01-28 03:17:13,184 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated nationalities to: [Sudanese, Egyptian]
2025-01-28 03:17:13,185 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated comments to: New registration for Ibrahim
2025-01-28 03:17:13,185 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updated connectionMethod to: phone
2025-01-28 03:17:13,185 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Validating role for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:13,185 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:17:13,283 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updating role for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:13,283 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Updating Waladom card photo for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:13,286 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:17:13,338 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.ID=?
2025-01-28 03:17:13,389 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    update
        waladom_id_photos 
    set
        PHOTO_URL=?,
        UPDATED_AT=?,
        USER_ID=? 
    where
        ID=?
2025-01-28 03:17:13,487 INFO c.p.w.u.UserService [http-nio-8083-exec-6] Saving updated user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:13,520 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID,
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID,
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        USERS u1_0 
    left join
        waladom_id_photos wip1_0 
            on u1_0.ID=wip1_0.USER_ID 
    left join
        id_proof_photos ipp1_0 
            on u1_0.ID=ipp1_0.USER_ID 
    where
        u1_0.ID=?
2025-01-28 03:17:13,586 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    update
        waladom_id_photos 
    set
        PHOTO_URL=?,
        UPDATED_AT=?,
        USER_ID=? 
    where
        ID=?
2025-01-28 03:17:13,635 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 03:17:13,743 INFO c.p.w.u.UserService [http-nio-8083-exec-6] User with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d successfully updated.
2025-01-28 03:17:13,747 ERROR c.p.w.u.UserController [http-nio-8083-exec-6] Error updating user with ID WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d: Could not initialize proxy [com.phanta.waladom.role.Role#ROLE_USER] - no session
org.hibernate.LazyInitializationException: Could not initialize proxy [com.phanta.waladom.role.Role#ROLE_USER] - no session
	at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:174)
	at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:328)
	at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:44)
	at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:102)
	at com.phanta.waladom.role.Role$HibernateProxy$vukp4dbv.getName(Unknown Source)
	at com.phanta.waladom.user.UserResponseDTO.mapToUserResponseDTO(UserResponseDTO.java:359)
	at com.phanta.waladom.user.UserService.updateUser(UserService.java:460)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723)
	at com.phanta.waladom.user.UserService$$SpringCGLIB$$0.updateUser(<generated>)
	at com.phanta.waladom.user.UserController.updateUser(UserController.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.phanta.waladom.oauthToken.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-01-28 03:17:33,792 INFO c.p.w.u.UserController [http-nio-8083-exec-7] Updating user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:33,793 INFO c.p.w.u.UserService [http-nio-8083-exec-7] Entering method isEmpty() for requestBody
2025-01-28 03:17:33,793 INFO c.p.w.u.UserService [http-nio-8083-exec-7] Starting updateUser method for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:33,844 DEBUG o.h.SQL [http-nio-8083-exec-7] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 03:17:33,892 DEBUG o.h.SQL [http-nio-8083-exec-7] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:17:33,985 INFO c.p.w.u.UserService [http-nio-8083-exec-7] User found. Proceeding with updates for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:33,986 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated firstName to: Ibrahim
2025-01-28 03:17:33,986 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated lastName to: Ahmed
2025-01-28 03:17:34,113 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated password.
2025-01-28 03:17:34,113 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated phone to: +249123456789
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated isActive to: true
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated status to: Active
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated tribe to: Nomadic
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated currentCountry to: Sudan
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated currentCity to: Khartoum
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated currentVillage to: Al Salam Village
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated birthDate to: 1990-05-15
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated birthCountry to: Sudan
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated birthCity to: Omdurman
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated birthVillage to: Al Noor Village
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated maritalStatus to: Single
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated numberOfKids to: 0
2025-01-28 03:17:34,114 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Updated occupation to: Engineer
2025-01-28 03:17:34,114 INFO c.p.w.u.UserService [http-nio-8083-exec-7] Saving updated user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:17:34,115 DEBUG o.h.SQL [http-nio-8083-exec-7] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID,
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID,
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        USERS u1_0 
    left join
        waladom_id_photos wip1_0 
            on u1_0.ID=wip1_0.USER_ID 
    left join
        id_proof_photos ipp1_0 
            on u1_0.ID=ipp1_0.USER_ID 
    where
        u1_0.ID=?
2025-01-28 03:17:34,171 DEBUG o.h.SQL [http-nio-8083-exec-7] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 03:17:34,270 INFO c.p.w.u.UserService [http-nio-8083-exec-7] User with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d successfully updated.
2025-01-28 03:17:34,271 ERROR c.p.w.u.UserController [http-nio-8083-exec-7] Error updating user with ID WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d: Could not initialize proxy [com.phanta.waladom.role.Role#ROLE_USER] - no session
org.hibernate.LazyInitializationException: Could not initialize proxy [com.phanta.waladom.role.Role#ROLE_USER] - no session
	at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:174)
	at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:328)
	at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:44)
	at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:102)
	at com.phanta.waladom.role.Role$HibernateProxy$vukp4dbv.getName(Unknown Source)
	at com.phanta.waladom.user.UserResponseDTO.mapToUserResponseDTO(UserResponseDTO.java:359)
	at com.phanta.waladom.user.UserService.updateUser(UserService.java:460)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723)
	at com.phanta.waladom.user.UserService$$SpringCGLIB$$0.updateUser(<generated>)
	at com.phanta.waladom.user.UserController.updateUser(UserController.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.phanta.waladom.oauthToken.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-01-28 03:18:01,812 INFO c.p.w.u.UserController [http-nio-8083-exec-8] Updating user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:18:01,812 INFO c.p.w.u.UserService [http-nio-8083-exec-8] Entering method isEmpty() for requestBody
2025-01-28 03:18:01,813 INFO c.p.w.u.UserService [http-nio-8083-exec-8] Starting updateUser method for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:18:01,861 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 03:18:01,910 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:18:02,012 INFO c.p.w.u.UserService [http-nio-8083-exec-8] User found. Proceeding with updates for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:18:02,013 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated firstName to: Ibrahim
2025-01-28 03:18:02,013 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated lastName to: Ahmed
2025-01-28 03:18:02,136 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated password.
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated phone to: +249123456789
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated isActive to: true
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated status to: Active
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated tribe to: Nomadic
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated currentCountry to: Sudan
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated currentCity to: Khartoum
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated currentVillage to: Al Salam Village
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated birthDate to: 1990-05-15
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated birthCountry to: Sudan
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated birthCity to: Omdurman
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated birthVillage to: Al Noor Village
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated maritalStatus to: Single
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated numberOfKids to: 0
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated occupation to: Engineer
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated sex to: m
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated mothersFirstName to: Fatima
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated mothersLastName to: Ali
2025-01-28 03:18:02,137 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated nationalities to: [Sudanese, Egyptian]
2025-01-28 03:18:02,138 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated comments to: New registration for Ibrahim
2025-01-28 03:18:02,138 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updated connectionMethod to: phone
2025-01-28 03:18:02,138 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Validating role for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:18:02,138 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:18:02,235 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updating role for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:18:02,235 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Updating front ID proof photo for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:18:02,239 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT,
        ipp1_0.USER_ID 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=? 
        and ipp1_0.PHOTO_TYPE=?
2025-01-28 03:18:02,290 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT,
        ipp1_0.USER_ID 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.ID=?
2025-01-28 03:18:02,341 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    update
        id_proof_photos 
    set
        PHOTO_TYPE=?,
        PHOTO_URL=?,
        UPDATED_AT=?,
        USER_ID=? 
    where
        ID=?
2025-01-28 03:18:02,440 ERROR c.p.w.u.UserController [http-nio-8083-exec-8] Error updating user with ID WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d: failed to lazily initialize a collection of role: com.phanta.waladom.user.User.idProofPhotos: could not initialize proxy - no Session
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.phanta.waladom.user.User.idProofPhotos: could not initialize proxy - no Session
	at org.hibernate.collection.spi.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:635)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:219)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.write(AbstractPersistentCollection.java:444)
	at org.hibernate.collection.spi.PersistentBag.add(PersistentBag.java:388)
	at com.phanta.waladom.user.UserService.updateUser(UserService.java:430)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723)
	at com.phanta.waladom.user.UserService$$SpringCGLIB$$0.updateUser(<generated>)
	at com.phanta.waladom.user.UserController.updateUser(UserController.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.phanta.waladom.oauthToken.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-01-28 03:19:58,993 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 03:19:59,002 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 03:19:59,016 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 03:19:59,023 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 03:19:59,123 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 03:20:04,192 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 9228 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 03:20:04,193 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 03:20:04,195 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 03:20:05,254 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 03:20:05,368 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 102 ms. Found 13 JPA repository interfaces.
2025-01-28 03:20:06,302 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 03:20:06,322 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 03:20:06,322 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 03:20:06,390 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 03:20:06,390 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2105 ms
2025-01-28 03:20:06,473 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 03:20:06,651 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 03:20:06,723 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 03:20:06,767 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 03:20:07,178 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 03:20:07,217 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 03:20:08,078 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7cbe3a05
2025-01-28 03:20:08,080 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 03:20:08,370 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 03:20:09,667 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 03:20:11,741 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 03:20:12,217 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 03:20:14,490 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 03:20:14,604 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 03:20:14,671 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 03:20:15,619 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 03:20:15,629 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 11.934 seconds (process running for 13.988)
2025-01-28 03:20:15,633 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 03:20:31,711 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 03:20:31,712 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 03:20:31,716 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 3 ms
2025-01-28 03:20:31,917 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Updating user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:20:31,917 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Entering method isEmpty() for requestBody
2025-01-28 03:20:31,918 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Starting updateUser method for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:20:40,109 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 03:20:40,373 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:23:42,505 WARN c.z.h.p.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m2s728ms72µs813ns).
2025-01-28 03:23:42,512 INFO c.p.w.u.UserService [http-nio-8083-exec-1] User found. Proceeding with updates for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:23:42,514 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated firstName to: Ibrahim
2025-01-28 03:23:42,516 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated lastName to: Ahmed
2025-01-28 03:23:42,560 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 03:23:43,636 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated password.
2025-01-28 03:23:43,637 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated phone to: +249123456789
2025-01-28 03:23:43,638 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated isActive to: true
2025-01-28 03:23:43,638 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated status to: Active
2025-01-28 03:23:43,638 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated tribe to: Nomadic
2025-01-28 03:23:43,638 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated currentCountry to: Sudan
2025-01-28 03:23:43,639 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated currentCity to: Khartoum
2025-01-28 03:23:43,639 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated currentVillage to: Al Salam Village
2025-01-28 03:23:43,639 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated birthDate to: 1990-05-15
2025-01-28 03:23:43,640 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated birthCountry to: Sudan
2025-01-28 03:23:43,640 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated birthCity to: Omdurman
2025-01-28 03:23:43,640 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated birthVillage to: Al Noor Village
2025-01-28 03:23:43,640 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated maritalStatus to: Single
2025-01-28 03:23:43,641 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated numberOfKids to: 0
2025-01-28 03:23:43,641 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated occupation to: Engineer
2025-01-28 03:23:43,641 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated sex to: m
2025-01-28 03:23:43,642 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated mothersFirstName to: Fatima
2025-01-28 03:23:43,642 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated mothersLastName to: Ali
2025-01-28 03:23:43,642 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated nationalities to: [Sudanese, Egyptian]
2025-01-28 03:23:43,642 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated comments to: New registration for Ibrahim
2025-01-28 03:23:43,643 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated connectionMethod to: phone
2025-01-28 03:23:43,647 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Validating role for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:23:43,708 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:23:43,821 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updating role for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:23:43,822 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updating front ID proof photo for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:23:44,850 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT,
        ipp1_0.USER_ID 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=? 
        and ipp1_0.PHOTO_TYPE=?
2025-01-28 03:23:45,031 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT,
        ipp1_0.USER_ID 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.ID=?
2025-01-28 03:25:06,717 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 9611 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 03:25:06,719 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 03:25:06,721 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 03:25:07,728 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 03:25:07,829 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 90 ms. Found 13 JPA repository interfaces.
2025-01-28 03:25:08,718 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 03:25:08,739 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 03:25:08,739 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 03:25:08,811 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 03:25:08,812 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2023 ms
2025-01-28 03:25:08,900 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 03:25:09,057 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 03:25:09,125 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 03:25:09,162 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 03:25:09,450 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 03:25:09,483 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 03:25:10,319 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2f166d61
2025-01-28 03:25:10,321 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 03:25:10,632 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 03:25:11,781 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 03:25:13,897 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 03:25:14,388 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 03:25:16,234 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 03:25:16,290 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 03:25:16,347 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 03:25:16,431 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 03:25:17,249 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 03:25:17,260 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 11.081 seconds (process running for 12.125)
2025-01-28 03:25:17,264 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 03:25:33,133 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 03:25:33,133 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 03:25:33,135 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 03:25:33,291 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Updating user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:25:33,292 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Entering method isEmpty() for requestBody
2025-01-28 03:25:33,292 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Starting updateUser method for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:25:33,398 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 03:25:33,505 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:25:33,632 INFO c.p.w.u.UserService [http-nio-8083-exec-1] User found. Proceeding with updates for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:25:33,633 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated firstName to: Ibrahim
2025-01-28 03:25:33,633 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated lastName to: Ahmed
2025-01-28 03:25:33,789 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated password.
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated phone to: +249123456789
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated isActive to: true
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated status to: Active
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated tribe to: Nomadic
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated currentCountry to: Sudan
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated currentCity to: Khartoum
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated currentVillage to: Al Salam Village
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated birthDate to: 1990-05-15
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated birthCountry to: Sudan
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated birthCity to: Omdurman
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated birthVillage to: Al Noor Village
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated maritalStatus to: Single
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated numberOfKids to: 0
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated occupation to: Engineer
2025-01-28 03:25:33,790 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated sex to: m
2025-01-28 03:25:33,791 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated mothersFirstName to: Fatima
2025-01-28 03:25:33,791 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated mothersLastName to: Ali
2025-01-28 03:25:33,791 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated nationalities to: [Sudanese, Egyptian]
2025-01-28 03:25:33,791 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated comments to: New registration for Ibrahim
2025-01-28 03:25:33,791 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updated connectionMethod to: phone
2025-01-28 03:25:33,792 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Validating role for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:25:33,793 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:25:33,896 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updating role for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:25:33,897 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updating front ID proof photo for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:25:33,982 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT,
        ipp1_0.USER_ID 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=? 
        and ipp1_0.PHOTO_TYPE=?
2025-01-28 03:25:34,063 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 03:25:34,134 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    update
        id_proof_photos 
    set
        PHOTO_TYPE=?,
        PHOTO_URL=?,
        UPDATED_AT=?,
        USER_ID=? 
    where
        ID=?
2025-01-28 03:25:34,239 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updating back ID proof photo for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:25:34,242 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT,
        ipp1_0.USER_ID 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=? 
        and ipp1_0.PHOTO_TYPE=?
2025-01-28 03:25:34,297 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    update
        id_proof_photos 
    set
        PHOTO_TYPE=?,
        PHOTO_URL=?,
        UPDATED_AT=?,
        USER_ID=? 
    where
        ID=?
2025-01-28 03:25:34,399 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Updating Waladom card photo for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:25:34,402 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:25:34,453 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    update
        waladom_id_photos 
    set
        PHOTO_URL=?,
        UPDATED_AT=?,
        USER_ID=? 
    where
        ID=?
2025-01-28 03:25:34,551 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Saving updated user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:25:34,554 INFO c.p.w.u.UserService [http-nio-8083-exec-1] User with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d successfully updated.
2025-01-28 03:25:34,558 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=?
2025-01-28 03:25:34,613 DEBUG c.p.w.u.UserController [http-nio-8083-exec-1] User updated successfully: com.phanta.waladom.user.UserResponseDTO@65bd6f53
2025-01-28 03:27:22,375 INFO c.p.w.u.UserService [http-nio-8083-exec-3] Login attempt with identifier: jamaStop@example.com and connection method: phone
2025-01-28 03:27:22,375 DEBUG c.p.w.u.UserService [http-nio-8083-exec-3] Searching user by phone: jamaStop@example.com
2025-01-28 03:27:22,379 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 03:27:22,479 WARN c.p.w.u.UserService [http-nio-8083-exec-3] User not found for identifier: jamaStop@example.com
2025-01-28 03:28:01,122 INFO c.p.w.u.UserService [http-nio-8083-exec-4] Login attempt with identifier: ibrahim.ahmed@example.com and connection method: phone
2025-01-28 03:28:01,123 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Searching user by phone: ibrahim.ahmed@example.com
2025-01-28 03:28:01,126 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 03:28:01,224 WARN c.p.w.u.UserService [http-nio-8083-exec-4] User not found for identifier: ibrahim.ahmed@example.com
2025-01-28 03:28:23,832 INFO c.p.w.u.UserService [http-nio-8083-exec-5] Login attempt with identifier: ibrahim.ahmed@example.com and connection method: phone
2025-01-28 03:28:23,832 DEBUG c.p.w.u.UserService [http-nio-8083-exec-5] Searching user by phone: ibrahim.ahmed@example.com
2025-01-28 03:28:23,836 DEBUG o.h.SQL [http-nio-8083-exec-5] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 03:28:23,933 WARN c.p.w.u.UserService [http-nio-8083-exec-5] User not found for identifier: ibrahim.ahmed@example.com
2025-01-28 03:28:34,129 INFO c.p.w.u.UserService [http-nio-8083-exec-6] Login attempt with identifier: ibrahim.ahmed@example.com and connection method: email
2025-01-28 03:28:34,130 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Searching user by email: ibrahim.ahmed@example.com
2025-01-28 03:28:34,133 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 03:28:34,231 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:28:34,283 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] User found: ibrahim.ahmed@example.com
2025-01-28 03:28:34,433 WARN c.p.w.u.UserService [http-nio-8083-exec-6] Connection method mismatch for user: ibrahim.ahmed@example.com
2025-01-28 03:29:23,492 INFO c.p.w.u.UserService [http-nio-8083-exec-7] Login attempt with identifier: +249123456789 and connection method: email
2025-01-28 03:29:23,493 DEBUG c.p.w.u.UserService [http-nio-8083-exec-7] Searching user by email: +249123456789
2025-01-28 03:29:23,497 DEBUG o.h.SQL [http-nio-8083-exec-7] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 03:29:23,595 WARN c.p.w.u.UserService [http-nio-8083-exec-7] User not found for identifier: +249123456789
2025-01-28 03:29:43,015 INFO c.p.w.u.UserService [http-nio-8083-exec-8] Login attempt with identifier: +249123456789 and connection method: phone
2025-01-28 03:29:43,015 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Searching user by phone: +249123456789
2025-01-28 03:29:43,017 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 03:29:43,113 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:29:43,166 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] User found: ibrahim.ahmed@example.com
2025-01-28 03:29:43,285 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:29:43,347 INFO c.p.w.u.UserService [http-nio-8083-exec-8] Login successful for user: +249123456789
2025-01-28 03:31:03,697 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@4a21b619
2025-01-28 03:31:03,699 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] Starting validation for user request.
2025-01-28 03:31:03,699 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] User request validation passed successfully.
2025-01-28 03:31:03,753 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 03:31:03,923 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:31:03,994 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 03:31:04,052 WARN o.h.e.j.s.SqlExceptionHelper [http-nio-8083-exec-1] SQL Error: 0, SQLState: 23505
2025-01-28 03:31:04,053 ERROR o.h.e.j.s.SqlExceptionHelper [http-nio-8083-exec-1] ERROR: duplicate key value violates unique constraint "users_phone_key"
  Detail: Key (phone)=(+249123456789) already exists.
2025-01-28 03:31:20,550 INFO c.p.w.u.UserController [http-nio-8083-exec-2] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@1ab69867
2025-01-28 03:31:20,551 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] Starting validation for user request.
2025-01-28 03:31:20,551 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] User request validation passed successfully.
2025-01-28 03:31:20,604 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 03:31:20,776 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:31:20,835 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 03:31:20,886 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        waladom_id_photos
        (CREATED_AT, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 03:31:20,937 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 03:31:20,989 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 03:31:21,042 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 03:31:21,148 DEBUG c.p.w.u.UserController [http-nio-8083-exec-2] User creation response: <200 OK OK,com.phanta.waladom.user.UserResponseDTO@7156b1bc,[]>
2025-01-28 03:32:33,793 INFO c.p.w.u.UserController [http-nio-8083-exec-4] Deleting user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:32:33,794 INFO c.p.w.u.UserService [http-nio-8083-exec-4] Initiating deletion process for user with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:32:33,844 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 03:32:33,893 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:32:33,996 INFO c.p.w.u.UserService [http-nio-8083-exec-4] User found. Deleting user record with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:32:34,005 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=?
2025-01-28 03:32:34,061 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    delete 
    from
        id_proof_photos 
    where
        ID=?
2025-01-28 03:32:34,111 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    delete 
    from
        id_proof_photos 
    where
        ID=?
2025-01-28 03:32:34,162 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    delete 
    from
        waladom_id_photos 
    where
        ID=?
2025-01-28 03:32:34,210 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    delete 
    from
        USERS 
    where
        ID=?
2025-01-28 03:32:34,309 INFO c.p.w.u.UserService [http-nio-8083-exec-4] Deleting Waladom ID photo from S3 for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:32:34,310 INFO c.p.w.u.UserService [http-nio-8083-exec-4] Deleting first ID proof photo from S3 for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:32:34,311 INFO c.p.w.u.UserService [http-nio-8083-exec-4] Deleting second ID proof photo from S3 for user ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d
2025-01-28 03:32:34,311 INFO c.p.w.u.UserService [http-nio-8083-exec-4] User with ID: WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d and associated resources successfully deleted.
2025-01-28 03:32:34,311 DEBUG c.p.w.u.UserController [http-nio-8083-exec-4] User with ID WLD_fb9f238c-6188-448f-9e6c-eeeb1b1a3c2d deleted successfully.
2025-01-28 03:34:17,483 INFO c.p.w.u.UserController [http-nio-8083-exec-6] Fetching user with ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907
2025-01-28 03:34:17,534 INFO c.p.w.u.UserService [http-nio-8083-exec-6] Fetching user by ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907
2025-01-28 03:34:17,535 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 03:34:17,589 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:34:17,643 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Mapping user data for user ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907
2025-01-28 03:34:17,645 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=?
2025-01-28 03:34:17,697 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:34:17,799 DEBUG c.p.w.u.UserController [http-nio-8083-exec-6] User found: com.phanta.waladom.user.UserResponseDTO@65e7f224
2025-01-28 03:34:38,831 INFO c.p.w.u.UserController [http-nio-8083-exec-7] Fetching user with ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907h
2025-01-28 03:34:38,881 INFO c.p.w.u.UserService [http-nio-8083-exec-7] Fetching user by ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907h
2025-01-28 03:34:38,882 DEBUG o.h.SQL [http-nio-8083-exec-7] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 03:34:38,980 WARN c.p.w.u.UserController [http-nio-8083-exec-7] User with ID WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907h not found.
2025-01-28 03:34:47,706 INFO c.p.w.u.UserController [http-nio-8083-exec-8] Fetching user with ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907
2025-01-28 03:34:47,756 INFO c.p.w.u.UserService [http-nio-8083-exec-8] Fetching user by ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907
2025-01-28 03:34:47,757 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 03:34:47,809 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:34:47,862 DEBUG c.p.w.u.UserService [http-nio-8083-exec-8] Mapping user data for user ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907
2025-01-28 03:34:47,862 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=?
2025-01-28 03:34:47,914 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:34:48,016 DEBUG c.p.w.u.UserController [http-nio-8083-exec-8] User found: com.phanta.waladom.user.UserResponseDTO@7179ba23
2025-01-28 03:35:13,992 INFO c.p.w.u.UserController [http-nio-8083-exec-9] Fetching all users.
2025-01-28 03:35:14,043 INFO c.p.w.u.UserService [http-nio-8083-exec-9] Fetching all users from the database.
2025-01-28 03:35:14,049 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0
2025-01-28 03:35:14,101 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:35:14,155 DEBUG c.p.w.u.UserService [http-nio-8083-exec-9] Found 1 users in the database.
2025-01-28 03:35:14,156 DEBUG c.p.w.u.UserService [http-nio-8083-exec-9] Mapping user data for user ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907
2025-01-28 03:35:14,156 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    select
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=?
2025-01-28 03:35:14,207 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:35:14,309 DEBUG c.p.w.u.UserController [http-nio-8083-exec-9] Retrieved 1 users.
2025-01-28 03:35:28,252 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [http-nio-8083-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.security.authentication.AuthenticationServiceException: Authentication failed: Invalid token
	at com.phanta.waladom.oauthToken.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:53)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-01-28 03:35:34,288 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Fetching all users.
2025-01-28 03:35:34,343 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Fetching all users from the database.
2025-01-28 03:35:34,346 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0
2025-01-28 03:35:34,397 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:35:34,448 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Found 1 users in the database.
2025-01-28 03:35:34,449 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Mapping user data for user ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907
2025-01-28 03:35:34,449 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=?
2025-01-28 03:35:34,501 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:35:34,599 DEBUG c.p.w.u.UserController [http-nio-8083-exec-1] Retrieved 1 users.
2025-01-28 03:37:12,177 INFO c.p.w.u.UserController [http-nio-8083-exec-3] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@65030b74
2025-01-28 03:37:12,177 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-3] Starting validation for user request.
2025-01-28 03:37:12,177 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-3] User request validation passed successfully.
2025-01-28 03:37:12,228 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 03:37:12,394 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 03:37:12,449 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 03:37:12,502 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        waladom_id_photos
        (CREATED_AT, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 03:37:12,552 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 03:37:12,600 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 03:37:12,653 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 03:37:12,752 DEBUG c.p.w.u.UserController [http-nio-8083-exec-3] User creation response: <200 OK OK,com.phanta.waladom.user.UserResponseDTO@6022c4b5,[]>
2025-01-28 03:37:58,948 INFO c.p.w.u.UserController [http-nio-8083-exec-4] Validating email address.
2025-01-28 03:37:58,958 INFO c.p.w.u.UserService [http-nio-8083-exec-4] Starting email validation for email: isaslk@gmail.com
2025-01-28 03:37:58,961 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 03:37:59,060 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:37:59,113 WARN c.p.w.u.UserService [http-nio-8083-exec-4] Email validation failed. Email isaslk@gmail.com is already taken by user ID: WLD_31baacdd-5d38-4e5b-9829-048a0f445cff
2025-01-28 03:37:59,114 DEBUG c.p.w.u.UserController [http-nio-8083-exec-4] Email validation response: <200 OK OK,{valid=false, status=400, message=The email is already taken, error=User already exists, path=/api/user/email/validate, timestamp=2025-01-28T03:37:59.113720265},[]>
2025-01-28 03:40:59,452 INFO c.p.w.u.UserController [http-nio-8083-exec-7] Validating email address.
2025-01-28 03:40:59,452 INFO c.p.w.u.UserService [http-nio-8083-exec-7] Starting email validation for email: khj@gmail.com
2025-01-28 03:40:59,454 DEBUG o.h.SQL [http-nio-8083-exec-7] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 03:40:59,553 INFO c.p.w.u.UserService [http-nio-8083-exec-7] Performing basic validation for email: khj@gmail.com
2025-01-28 03:40:59,556 DEBUG o.h.SQL [http-nio-8083-exec-7] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 03:40:59,605 INFO c.p.w.u.UserService [http-nio-8083-exec-7] Email validation result for khj@gmail.com: Valid
2025-01-28 03:40:59,606 DEBUG c.p.w.u.UserController [http-nio-8083-exec-7] Email validation response: <200 OK OK,{valid=true, message=Email is valid},[]>
2025-01-28 03:42:17,960 INFO c.p.w.u.UserController [http-nio-8083-exec-9] Validating phone number.
2025-01-28 03:42:17,961 INFO c.p.w.u.UserService [http-nio-8083-exec-9] Starting phone number validation for: khj@gmail.com
2025-01-28 03:42:17,966 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 03:42:18,065 INFO c.p.w.u.UserService [http-nio-8083-exec-9] Performing basic validation for phone number: khj@gmail.com
2025-01-28 03:42:18,066 WARN c.p.w.u.UserService [http-nio-8083-exec-9] Phone validation failed. Invalid format for phone number: khj@gmail.com
2025-01-28 03:42:18,066 DEBUG c.p.w.u.UserController [http-nio-8083-exec-9] Phone validation response: <200 OK OK,{valid=false, message=Invalid phone number format},[]>
2025-01-28 03:42:54,549 INFO c.p.w.u.UserController [http-nio-8083-exec-10] Validating phone number.
2025-01-28 03:42:54,550 INFO c.p.w.u.UserService [http-nio-8083-exec-10] Starting phone number validation for: +49123456789
2025-01-28 03:42:54,552 DEBUG o.h.SQL [http-nio-8083-exec-10] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 03:42:54,650 DEBUG o.h.SQL [http-nio-8083-exec-10] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 03:42:54,702 WARN c.p.w.u.UserService [http-nio-8083-exec-10] Phone validation failed. Phone number +49123456789 is already taken by user ID: WLD_1cf2c9ae-7e04-4122-bba0-64bebf409907
2025-01-28 03:42:54,703 DEBUG c.p.w.u.UserController [http-nio-8083-exec-10] Phone validation response: <200 OK OK,{valid=false, status=400, message=The phone number is already taken, error=User already exists, path=/api/user/phone/validate, timestamp=2025-01-28T03:42:54.703012504},[]>
2025-01-28 03:45:53,190 INFO c.p.w.u.UserController [http-nio-8083-exec-2] Validating phone number.
2025-01-28 03:45:53,190 INFO c.p.w.u.UserService [http-nio-8083-exec-2] Starting phone number validation for: +491234156789
2025-01-28 03:45:53,194 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 03:45:53,290 INFO c.p.w.u.UserService [http-nio-8083-exec-2] Performing basic validation for phone number: +491234156789
2025-01-28 03:45:53,293 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 03:45:53,342 INFO c.p.w.u.UserService [http-nio-8083-exec-2] Phone validation result for +491234156789: Valid
2025-01-28 03:45:53,342 DEBUG c.p.w.u.UserController [http-nio-8083-exec-2] Phone validation response: <200 OK OK,{valid=true, message=Phone number is valid},[]>
2025-01-28 03:52:57,770 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 03:52:57,775 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 03:52:57,789 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 03:52:57,795 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 03:52:57,894 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 03:53:00,674 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 12693 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 03:53:00,675 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 03:53:00,677 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 03:53:01,753 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 03:53:01,845 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 81 ms. Found 13 JPA repository interfaces.
2025-01-28 03:53:02,713 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 03:53:02,734 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 03:53:02,734 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 03:53:02,793 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 03:53:02,793 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2034 ms
2025-01-28 03:53:02,872 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 03:53:03,037 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 03:53:03,113 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 03:53:03,146 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 03:53:03,431 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 03:53:03,462 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 03:53:04,339 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@68c4a860
2025-01-28 03:53:04,340 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 03:53:04,652 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 03:53:05,881 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 03:53:07,949 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 03:53:08,367 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 03:53:10,303 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 03:53:10,355 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 03:53:10,417 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 03:53:10,479 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 03:53:11,286 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 03:53:11,297 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 11.162 seconds (process running for 12.165)
2025-01-28 03:53:11,300 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 03:53:13,304 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 03:53:13,308 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 03:53:13,321 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 03:53:13,325 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 03:53:13,421 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 03:53:15,680 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 12804 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 03:53:15,682 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 03:53:15,683 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 03:53:16,673 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 03:53:16,772 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 87 ms. Found 13 JPA repository interfaces.
2025-01-28 03:53:17,589 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 03:53:17,605 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 03:53:17,606 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 03:53:17,674 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 03:53:17,674 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1910 ms
2025-01-28 03:53:17,748 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 03:53:17,903 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 03:53:17,971 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 03:53:18,004 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 03:53:18,276 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 03:53:18,303 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 03:53:19,108 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@fceab5d
2025-01-28 03:53:19,111 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 03:53:19,412 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 03:53:20,572 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 03:53:22,665 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 03:53:23,037 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 03:53:24,869 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 03:53:24,914 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 03:53:24,958 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 03:53:25,003 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 03:53:25,730 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 03:53:25,738 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.524 seconds (process running for 11.38)
2025-01-28 03:53:25,741 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 13:33:56,671 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 13:33:56,743 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 13:33:56,805 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 13:33:56,846 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 13:33:56,914 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 13:34:02,112 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 21491 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 13:34:02,114 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 13:34:02,116 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 13:34:02,900 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 13:34:02,974 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 66 ms. Found 13 JPA repository interfaces.
2025-01-28 13:34:03,592 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 13:34:03,605 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 13:34:03,605 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 13:34:03,651 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 13:34:03,651 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1469 ms
2025-01-28 13:34:03,721 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 13:34:03,842 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 13:34:03,901 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 13:34:03,930 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 13:34:04,167 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 13:34:04,191 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 13:34:04,982 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6ffbf0ac
2025-01-28 13:34:04,984 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 13:34:05,265 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 13:34:06,388 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 13:34:08,608 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 13:34:08,969 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 13:34:10,831 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 13:34:10,877 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 13:34:10,927 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 13:34:10,988 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 13:34:11,641 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 13:34:11,650 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.976 seconds (process running for 10.723)
2025-01-28 13:34:11,653 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 13:35:20,500 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 13:35:20,501 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 13:35:20,504 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 3 ms
2025-01-28 13:35:20,571 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Login attempt with identifier: +249123456789 and connection method: phone
2025-01-28 13:35:20,572 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Searching user by phone: +249123456789
2025-01-28 13:35:20,645 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 13:35:20,780 WARN c.p.w.u.UserService [http-nio-8083-exec-1] User not found for identifier: +249123456789
2025-01-28 13:36:01,560 INFO c.p.w.u.UserService [http-nio-8083-exec-2] Login attempt with identifier: isaslk@gmail.com and connection method: phone
2025-01-28 13:36:01,560 DEBUG c.p.w.u.UserService [http-nio-8083-exec-2] Searching user by phone: isaslk@gmail.com
2025-01-28 13:36:01,562 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 13:36:01,670 WARN c.p.w.u.UserService [http-nio-8083-exec-2] User not found for identifier: isaslk@gmail.com
2025-01-28 13:36:37,411 INFO c.p.w.u.UserService [http-nio-8083-exec-3] Login attempt with identifier: +24912345674489 and connection method: phone
2025-01-28 13:36:37,411 DEBUG c.p.w.u.UserService [http-nio-8083-exec-3] Searching user by phone: +24912345674489
2025-01-28 13:36:37,414 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 13:36:37,541 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 13:36:37,610 DEBUG c.p.w.u.UserService [http-nio-8083-exec-3] User found: isaslk@gmail.com
2025-01-28 13:36:37,726 WARN c.p.w.u.UserService [http-nio-8083-exec-3] Password verification failed for user: +24912345674489
2025-01-28 13:36:54,371 INFO c.p.w.u.UserService [http-nio-8083-exec-4] Login attempt with identifier: +24912345674489 and connection method: phone
2025-01-28 13:36:54,371 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] Searching user by phone: +24912345674489
2025-01-28 13:36:54,373 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 13:36:54,483 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 13:36:54,539 DEBUG c.p.w.u.UserService [http-nio-8083-exec-4] User found: isaslk@gmail.com
2025-01-28 13:36:54,634 WARN c.p.w.u.UserService [http-nio-8083-exec-4] Password verification failed for user: +24912345674489
2025-01-28 13:37:18,323 INFO c.p.w.u.UserService [http-nio-8083-exec-5] Login attempt with identifier: +49123456789 and connection method: phone
2025-01-28 13:37:18,324 DEBUG c.p.w.u.UserService [http-nio-8083-exec-5] Searching user by phone: +49123456789
2025-01-28 13:37:18,326 DEBUG o.h.SQL [http-nio-8083-exec-5] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 13:37:18,432 DEBUG o.h.SQL [http-nio-8083-exec-5] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 13:37:18,489 DEBUG c.p.w.u.UserService [http-nio-8083-exec-5] User found: ibrahijjlk@example.com
2025-01-28 13:37:18,579 WARN c.p.w.u.UserService [http-nio-8083-exec-5] User account is not active: +49123456789
2025-01-28 13:37:59,850 INFO c.p.w.u.UserService [http-nio-8083-exec-6] Login attempt with identifier: +24912345674489 and connection method: phone
2025-01-28 13:37:59,851 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] Searching user by phone: +24912345674489
2025-01-28 13:37:59,852 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 13:37:59,960 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 13:38:00,014 DEBUG c.p.w.u.UserService [http-nio-8083-exec-6] User found: isaslk@gmail.com
2025-01-28 13:38:00,015 WARN o.s.s.c.b.BCryptPasswordEncoder [http-nio-8083-exec-6] Encoded password does not look like BCrypt
2025-01-28 13:38:00,015 WARN c.p.w.u.UserService [http-nio-8083-exec-6] Password verification failed for user: +24912345674489
2025-01-28 13:39:34,982 INFO c.p.w.u.UserController [http-nio-8083-exec-8] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@3d339c8f
2025-01-28 13:39:34,983 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-8] Starting validation for user request.
2025-01-28 13:39:34,984 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-8] User request validation passed successfully.
2025-01-28 13:39:35,045 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 13:39:35,197 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 13:39:35,287 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 13:39:35,357 WARN o.h.e.j.s.SqlExceptionHelper [http-nio-8083-exec-8] SQL Error: 0, SQLState: 23505
2025-01-28 13:39:35,357 ERROR o.h.e.j.s.SqlExceptionHelper [http-nio-8083-exec-8] ERROR: duplicate key value violates unique constraint "users_phone_key"
  Detail: Key (phone)=(+24912345674489) already exists.
2025-01-28 13:39:58,698 INFO c.p.w.u.UserController [http-nio-8083-exec-9] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@54e5d806
2025-01-28 13:39:58,698 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-9] Starting validation for user request.
2025-01-28 13:39:58,698 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-9] User request validation passed successfully.
2025-01-28 13:39:58,755 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 13:39:58,903 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 13:39:58,960 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 13:39:59,015 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    insert 
    into
        waladom_id_photos
        (CREATED_AT, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 13:39:59,071 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 13:39:59,130 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 13:39:59,189 DEBUG o.h.SQL [http-nio-8083-exec-9] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 13:39:59,303 DEBUG c.p.w.u.UserController [http-nio-8083-exec-9] User creation response: <200 OK OK,com.phanta.waladom.user.UserResponseDTO@57981d29,[]>
2025-01-28 13:43:27,124 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Login attempt with identifier: 787929249 and connection method: phone
2025-01-28 13:43:27,124 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Searching user by phone: 787929249
2025-01-28 13:43:27,129 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 13:43:27,237 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 13:43:27,291 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] User found: macha@Jk.com
2025-01-28 13:43:27,381 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 13:43:27,445 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Login successful for user: 787929249
2025-01-28 13:43:47,360 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 13:43:47,363 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 13:43:47,370 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 13:43:47,374 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 13:43:47,530 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 13:46:51,764 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 22463 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 13:46:51,766 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 13:46:51,768 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 13:46:52,692 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 13:46:52,786 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 84 ms. Found 13 JPA repository interfaces.
2025-01-28 13:46:53,483 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 13:46:53,499 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 13:46:53,499 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 13:46:53,573 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 13:46:53,573 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1734 ms
2025-01-28 13:46:53,646 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 13:46:53,806 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 13:46:53,875 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 13:46:53,906 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 13:46:54,187 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 13:46:54,216 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 13:46:54,969 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6ffbf0ac
2025-01-28 13:46:54,971 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 13:46:55,235 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 13:46:56,279 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 13:46:58,255 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 13:46:58,700 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 13:47:00,415 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 13:47:00,458 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 13:47:00,510 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 13:47:00,572 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 13:47:01,371 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 13:47:01,383 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.084 seconds (process running for 10.859)
2025-01-28 13:47:01,386 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 13:47:09,991 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 13:47:09,992 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 13:47:09,994 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 13:47:10,034 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Login attempt with identifier: 787929249 and connection method: phone
2025-01-28 13:47:10,035 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Searching user by phone: 787929249
2025-01-28 13:47:10,090 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 13:47:10,220 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 13:47:10,279 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] User found: macha@Jk.com
2025-01-28 13:47:10,372 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 13:47:10,443 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Login successful for user: 787929249
2025-01-28 13:47:10,446 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=?
2025-01-28 14:44:35,465 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 14:44:35,474 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 14:44:35,483 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 14:44:35,487 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 14:44:35,591 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 14:44:39,411 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 26124 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 14:44:39,413 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 14:44:39,413 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 14:44:40,305 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 14:44:40,392 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 76 ms. Found 13 JPA repository interfaces.
2025-01-28 14:44:41,087 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 14:44:41,101 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 14:44:41,101 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 14:44:41,151 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 14:44:41,152 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1676 ms
2025-01-28 14:44:41,225 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 14:44:41,378 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 14:44:41,480 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 14:44:41,515 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 14:44:41,791 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 14:44:41,816 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 14:44:42,593 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e2772a9
2025-01-28 14:44:42,595 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 14:44:42,865 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 14:44:44,133 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 14:44:46,240 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 14:44:46,627 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 14:44:48,440 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 14:44:48,501 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 14:44:48,561 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 14:44:48,611 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 14:44:49,296 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 14:44:49,307 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.31 seconds (process running for 11.041)
2025-01-28 14:44:49,310 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 14:47:07,787 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 14:47:07,788 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 14:47:07,790 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 14:47:07,898 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@1e93b0fd
2025-01-28 14:47:07,899 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] Starting validation for user request.
2025-01-28 14:47:07,899 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] User request validation passed successfully.
2025-01-28 14:47:08,016 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 14:47:08,147 DEBUG c.p.w.u.UserController [http-nio-8083-exec-1] User creation response: <400 BAD_REQUEST Bad Request,{path=/api/user/createDTO, status=400, message=Unknown country code: Sudan, timestamp=2025-01-28T14:47:08.095517160, error=Unable to create user or registration request},[]>
2025-01-28 14:48:53,187 INFO c.p.w.u.UserController [http-nio-8083-exec-2] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@1ab69867
2025-01-28 14:48:53,187 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] Starting validation for user request.
2025-01-28 14:48:53,187 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] User request validation passed successfully.
2025-01-28 14:48:53,238 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 14:48:53,333 DEBUG c.p.w.u.UserController [http-nio-8083-exec-2] User creation response: <400 BAD_REQUEST Bad Request,{path=/api/user/createDTO, status=400, message=Unknown country code: VIETNAM, timestamp=2025-01-28T14:48:53.287138141, error=Unable to create user or registration request},[]>
2025-01-28 14:51:14,778 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 14:51:14,780 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 14:51:14,786 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 14:51:14,789 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 14:51:14,884 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 14:51:19,010 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 26644 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 14:51:19,012 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 14:51:19,013 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 14:51:19,904 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 14:51:19,990 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 75 ms. Found 13 JPA repository interfaces.
2025-01-28 14:51:20,680 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 14:51:20,696 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 14:51:20,697 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 14:51:20,752 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 14:51:20,753 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1670 ms
2025-01-28 14:51:20,815 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 14:51:20,956 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 14:51:21,022 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 14:51:21,056 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 14:51:21,315 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 14:51:21,349 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 14:51:22,052 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6e017950
2025-01-28 14:51:22,054 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 14:51:22,321 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 14:51:23,307 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 14:51:25,342 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 14:51:25,671 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 14:51:27,334 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 14:51:27,374 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 14:51:27,417 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 14:51:27,466 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 14:51:28,135 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 14:51:28,143 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.568 seconds (process running for 10.27)
2025-01-28 14:51:28,147 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 14:51:49,023 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 14:51:49,024 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 14:51:49,026 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 14:51:49,131 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@10bdb8c
2025-01-28 14:51:49,132 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] Starting validation for user request.
2025-01-28 14:51:49,132 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] User request validation passed successfully.
2025-01-28 14:51:49,249 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 14:51:49,426 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 14:51:49,500 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID,
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID,
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        USERS u1_0 
    left join
        waladom_id_photos wip1_0 
            on u1_0.ID=wip1_0.USER_ID 
    left join
        id_proof_photos ipp1_0 
            on u1_0.ID=ipp1_0.USER_ID 
    where
        u1_0.ID=?
2025-01-28 14:51:49,602 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 14:51:49,670 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        waladom_id_photos
        (CREATED_AT, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 14:51:49,727 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 14:51:49,774 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 14:51:49,824 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 14:51:49,933 DEBUG c.p.w.u.UserController [http-nio-8083-exec-1] User creation response: <200 OK OK,com.phanta.waladom.user.UserResponseDTO@2c824082,[]>
2025-01-28 14:54:06,622 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-3] Starting validation for user request.
2025-01-28 14:54:06,622 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-3] User request validation passed successfully.
2025-01-28 14:54:06,671 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.EMAIL=?
2025-01-28 14:54:06,720 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 14:54:06,776 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        registration_requests
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, VALIDATED, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 14:54:06,824 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        req_waladom_id_photos
        (CREATED_AT, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 14:54:06,870 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        req_id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 14:54:06,917 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        req_id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 14:54:06,966 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    update
        registration_requests 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        VALIDATED=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 14:54:17,254 INFO c.p.w.u.UserController [http-nio-8083-exec-4] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@30bf988f
2025-01-28 14:54:17,254 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-4] Starting validation for user request.
2025-01-28 14:54:17,254 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-4] User request validation passed successfully.
2025-01-28 14:54:17,302 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 14:54:17,359 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 14:54:17,460 DEBUG c.p.w.u.UserController [http-nio-8083-exec-4] User creation response: <400 BAD_REQUEST Bad Request,{status=400, message=User already exists with ID: WLD_10590842557, timestamp=2025-01-28T14:54:17.414417183, error=User already exists, path=/api/user/createDTO},[]>
2025-01-28 15:12:58,192 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 15:12:58,195 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 15:12:58,201 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:12:58,205 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 15:12:58,311 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 15:13:01,787 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 28364 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 15:13:01,790 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 15:13:01,791 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 15:13:02,736 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 15:13:02,833 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 87 ms. Found 13 JPA repository interfaces.
2025-01-28 15:13:03,712 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 15:13:03,732 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 15:13:03,733 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 15:13:03,796 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 15:13:03,796 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1937 ms
2025-01-28 15:13:03,884 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 15:13:04,051 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 15:13:04,123 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 15:13:04,158 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 15:13:04,444 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 15:13:04,473 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 15:13:05,235 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2f166d61
2025-01-28 15:13:05,236 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 15:13:05,499 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 15:13:06,668 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 15:13:08,732 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:13:09,095 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 15:13:10,758 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 15:13:10,805 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 15:13:10,848 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 15:13:10,901 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 15:13:11,672 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 15:13:11,680 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.378 seconds (process running for 11.164)
2025-01-28 15:13:11,684 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 15:13:30,491 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 15:13:30,492 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 15:13:30,494 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 1 ms
2025-01-28 15:13:30,595 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@4d7099a3
2025-01-28 15:13:30,596 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] Starting validation for user request.
2025-01-28 15:13:30,596 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] User request validation passed successfully.
2025-01-28 15:13:30,712 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 15:13:30,835 DEBUG c.p.w.u.UserController [http-nio-8083-exec-1] User creation response: <400 BAD_REQUEST Bad Request,{path=/api/user/createDTO, status=400, message=Unknown country: VIETNAM, timestamp=2025-01-28T15:13:30.785469311, error=Unable to create user or registration request},[]>
2025-01-28 15:21:54,522 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 15:21:54,524 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 15:21:54,529 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:21:54,532 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 15:21:54,628 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 15:21:57,851 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 29123 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 15:21:57,852 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 15:21:57,853 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 15:21:58,889 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 15:21:58,988 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 91 ms. Found 13 JPA repository interfaces.
2025-01-28 15:21:59,788 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 15:21:59,802 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 15:21:59,802 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 15:21:59,863 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 15:21:59,863 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1950 ms
2025-01-28 15:21:59,924 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 15:22:00,057 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 15:22:00,118 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 15:22:00,155 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 15:22:00,423 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 15:22:00,451 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 15:22:01,152 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18ac4af6
2025-01-28 15:22:01,155 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 15:22:01,434 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 15:22:02,406 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 15:22:04,453 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:22:04,860 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 15:22:06,444 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 15:22:06,485 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 15:22:06,532 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 15:22:06,584 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 15:22:07,300 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 15:22:07,309 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.972 seconds (process running for 10.647)
2025-01-28 15:22:07,312 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 15:22:22,321 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 15:22:22,321 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 15:22:22,324 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 15:22:22,429 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@458dbab0
2025-01-28 15:22:22,430 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] Starting validation for user request.
2025-01-28 15:22:22,430 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] User request validation passed successfully.
2025-01-28 15:22:22,548 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 15:22:22,681 DEBUG c.p.w.u.UserController [http-nio-8083-exec-1] User creation response: <400 BAD_REQUEST Bad Request,{error=Unable to create user or registration request, timestamp=2025-01-28T15:22:22.630623669, message=Unknown country: VIETNAM, status=400, path=/api/user/createDTO},[]>
2025-01-28 15:23:21,437 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 15:23:21,439 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 15:23:21,445 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:23:21,448 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 15:23:21,548 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 15:23:24,653 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 29316 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 15:23:24,655 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 15:23:24,656 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 15:23:25,503 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 15:23:25,614 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 91 ms. Found 13 JPA repository interfaces.
2025-01-28 15:23:26,345 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 15:23:26,360 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 15:23:26,361 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 15:23:26,412 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 15:23:26,412 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1692 ms
2025-01-28 15:23:26,489 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 15:23:26,642 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 15:23:26,702 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 15:23:26,730 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 15:23:26,979 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 15:23:27,006 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 15:23:27,704 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5034681f
2025-01-28 15:23:27,706 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 15:23:27,964 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 15:23:28,885 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 15:23:30,984 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:23:31,313 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 15:23:32,804 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 15:23:32,845 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 15:23:32,890 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 15:23:32,934 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 15:23:33,671 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 15:23:33,680 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.443 seconds (process running for 10.076)
2025-01-28 15:23:33,683 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 15:23:39,917 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 15:23:39,917 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 15:23:39,919 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 1 ms
2025-01-28 15:23:40,021 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@2ea0af92
2025-01-28 15:23:40,022 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] Starting validation for user request.
2025-01-28 15:23:40,022 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] User request validation passed successfully.
2025-01-28 15:23:40,143 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 15:23:40,260 DEBUG c.p.w.u.UserController [http-nio-8083-exec-1] User creation response: <400 BAD_REQUEST Bad Request,{path=/api/user/createDTO, status=400, message=Unknown country: VIETNAM, timestamp=2025-01-28T15:23:40.212310986, error=Unable to create user or registration request},[]>
2025-01-28 15:24:16,238 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 15:24:16,241 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 15:24:16,246 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:24:16,248 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 15:24:16,351 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 15:24:19,375 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 29472 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 15:24:19,376 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 15:24:19,377 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 15:24:20,192 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 15:24:20,270 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 70 ms. Found 13 JPA repository interfaces.
2025-01-28 15:24:20,969 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 15:24:20,985 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 15:24:20,985 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 15:24:21,037 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 15:24:21,038 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1605 ms
2025-01-28 15:24:21,109 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 15:24:21,247 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 15:24:21,302 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 15:24:21,330 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 15:24:21,572 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 15:24:21,598 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 15:24:22,302 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18ac4af6
2025-01-28 15:24:22,305 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 15:24:22,576 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 15:24:23,541 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 15:24:25,593 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:24:25,951 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 15:24:27,413 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 15:24:27,454 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 15:24:27,495 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 15:24:27,545 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 15:24:28,189 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 15:24:28,199 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.312 seconds (process running for 9.946)
2025-01-28 15:24:28,201 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 15:24:40,962 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 15:24:40,962 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 15:24:40,963 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 1 ms
2025-01-28 15:24:41,063 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@6a2fcc3a
2025-01-28 15:24:41,063 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] Starting validation for user request.
2025-01-28 15:24:41,064 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] User request validation passed successfully.
2025-01-28 15:24:41,171 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 15:24:41,344 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 15:24:41,418 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID,
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID,
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        USERS u1_0 
    left join
        waladom_id_photos wip1_0 
            on u1_0.ID=wip1_0.USER_ID 
    left join
        id_proof_photos ipp1_0 
            on u1_0.ID=ipp1_0.USER_ID 
    where
        u1_0.ID=?
2025-01-28 15:24:41,503 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 15:24:41,565 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        waladom_id_photos
        (CREATED_AT, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 15:24:41,614 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 15:24:41,662 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 15:24:41,712 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 15:24:41,820 DEBUG c.p.w.u.UserController [http-nio-8083-exec-1] User creation response: <200 OK OK,com.phanta.waladom.user.UserResponseDTO@51e58a17,[]>
2025-01-28 15:25:08,230 INFO c.p.w.u.UserController [http-nio-8083-exec-2] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@4c3b4338
2025-01-28 15:25:08,231 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] Starting validation for user request.
2025-01-28 15:25:08,231 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] User request validation passed successfully.
2025-01-28 15:25:08,284 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 15:25:08,338 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 15:25:08,437 DEBUG c.p.w.u.UserController [http-nio-8083-exec-2] User creation response: <400 BAD_REQUEST Bad Request,{path=/api/user/createDTO, status=400, message=User already exists with ID: WLD_10590842586, timestamp=2025-01-28T15:25:08.389488549, error=User already exists},[]>
2025-01-28 15:25:20,614 INFO c.p.w.u.UserController [http-nio-8083-exec-3] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@482cb82a
2025-01-28 15:25:20,614 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-3] Starting validation for user request.
2025-01-28 15:25:20,614 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-3] User request validation passed successfully.
2025-01-28 15:25:20,665 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 15:25:20,810 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 15:25:20,858 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID,
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID,
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        USERS u1_0 
    left join
        waladom_id_photos wip1_0 
            on u1_0.ID=wip1_0.USER_ID 
    left join
        id_proof_photos ipp1_0 
            on u1_0.ID=ipp1_0.USER_ID 
    where
        u1_0.ID=?
2025-01-28 15:25:20,912 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 15:25:20,962 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        waladom_id_photos
        (CREATED_AT, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 15:25:21,009 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 15:25:21,056 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 15:25:21,104 DEBUG o.h.SQL [http-nio-8083-exec-3] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 15:25:21,199 DEBUG c.p.w.u.UserController [http-nio-8083-exec-3] User creation response: <200 OK OK,com.phanta.waladom.user.UserResponseDTO@ca32c6d,[]>
2025-01-28 15:30:43,446 INFO c.p.w.u.UserController [http-nio-8083-exec-5] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@507fcfef
2025-01-28 15:30:43,446 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-5] Starting validation for user request.
2025-01-28 15:30:43,446 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-5] User request validation passed successfully.
2025-01-28 15:30:43,496 DEBUG o.h.SQL [http-nio-8083-exec-5] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 15:30:43,592 DEBUG c.p.w.u.UserController [http-nio-8083-exec-5] User creation response: <400 BAD_REQUEST Bad Request,{path=/api/user/createDTO, status=400, message=This is un Unknown country: south sudan, timestamp=2025-01-28T15:30:43.547196507, error=Unable to create user or registration request},[]>
2025-01-28 15:32:28,076 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 15:32:28,078 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 15:32:28,084 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:32:28,086 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 15:32:28,185 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 15:32:31,230 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 30362 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 15:32:31,231 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 15:32:31,232 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 15:32:32,108 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 15:32:32,210 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 91 ms. Found 13 JPA repository interfaces.
2025-01-28 15:32:32,913 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 15:32:32,929 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 15:32:32,929 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 15:32:33,000 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 15:32:33,000 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1703 ms
2025-01-28 15:32:33,066 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 15:32:33,222 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 15:32:33,288 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 15:32:33,317 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 15:32:33,575 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 15:32:33,611 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 15:32:34,334 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b8ee69d
2025-01-28 15:32:34,336 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 15:32:34,623 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 15:32:35,558 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 15:32:37,714 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:32:38,054 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 15:32:39,763 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 15:32:39,806 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 15:32:39,854 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 15:32:39,900 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 15:32:40,580 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 15:32:40,589 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.798 seconds (process running for 10.484)
2025-01-28 15:32:40,592 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 15:32:48,210 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 15:32:48,211 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 15:32:48,212 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 1 ms
2025-01-28 15:32:48,320 INFO c.p.w.u.UserController [http-nio-8083-exec-1] Creating new user with DTO: com.phanta.waladom.user.UserRequestDTO@284e4c59
2025-01-28 15:32:48,321 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] Starting validation for user request.
2025-01-28 15:32:48,321 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] User request validation passed successfully.
2025-01-28 15:32:48,446 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.EMAIL=?
2025-01-28 15:32:48,620 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 15:32:48,694 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID,
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID,
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        USERS u1_0 
    left join
        waladom_id_photos wip1_0 
            on u1_0.ID=wip1_0.USER_ID 
    left join
        id_proof_photos ipp1_0 
            on u1_0.ID=ipp1_0.USER_ID 
    where
        u1_0.ID=?
2025-01-28 15:32:48,778 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 15:32:48,841 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        waladom_id_photos
        (CREATED_AT, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 15:32:48,891 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 15:32:48,942 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 15:32:48,997 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    update
        USERS 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 15:32:49,105 DEBUG c.p.w.u.UserController [http-nio-8083-exec-1] User creation response: <200 OK OK,com.phanta.waladom.user.UserResponseDTO@6dc91678,[]>
2025-01-28 15:33:30,056 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 15:33:30,058 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 15:33:30,067 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:33:30,070 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 15:33:30,165 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 15:33:33,267 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 30565 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 15:33:33,269 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 15:33:33,270 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 15:33:34,124 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 15:33:34,198 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 66 ms. Found 13 JPA repository interfaces.
2025-01-28 15:33:34,897 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 15:33:34,912 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 15:33:34,913 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 15:33:34,972 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 15:33:34,972 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1639 ms
2025-01-28 15:33:35,062 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 15:33:35,232 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 15:33:35,298 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 15:33:35,343 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 15:33:35,594 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 15:33:35,629 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 15:33:36,401 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4449b273
2025-01-28 15:33:36,402 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 15:33:36,693 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 15:33:37,620 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 15:33:39,886 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 15:33:40,190 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 15:33:41,827 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 15:33:41,873 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 15:33:41,918 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 15:33:41,958 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 15:33:42,575 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 15:33:42,587 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.732 seconds (process running for 10.388)
2025-01-28 15:33:42,590 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 21:27:26,696 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 21:27:26,712 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 21:27:26,808 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 95 ms
2025-01-28 21:27:27,347 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] Starting validation for user request.
2025-01-28 21:27:27,348 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] User request validation passed successfully.
2025-01-28 21:27:27,677 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.EMAIL=?
2025-01-28 21:27:27,826 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 21:27:28,037 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        registration_requests
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, VALIDATED, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 21:27:28,123 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        req_waladom_id_photos
        (CREATED_AT, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 21:27:28,176 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        req_id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 21:27:28,227 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        req_id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 21:27:28,285 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    update
        registration_requests 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        VALIDATED=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 21:27:34,191 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 21:27:34,196 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 21:27:34,220 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:27:34,233 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 21:27:34,328 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 21:27:38,784 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 51063 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 21:27:38,787 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 21:27:38,789 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 21:27:39,676 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 21:27:39,788 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 100 ms. Found 13 JPA repository interfaces.
2025-01-28 21:27:40,473 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 21:27:40,488 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 21:27:40,488 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 21:27:40,536 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 21:27:40,537 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1680 ms
2025-01-28 21:27:40,608 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 21:27:40,745 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 21:27:40,803 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 21:27:40,834 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 21:27:41,084 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 21:27:41,109 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 21:27:41,833 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d06801f
2025-01-28 21:27:41,834 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 21:27:42,071 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 21:27:43,084 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 21:27:44,945 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:27:45,286 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 21:27:46,906 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 21:27:46,944 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 21:27:46,988 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 21:27:47,037 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 21:27:47,655 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 21:27:47,664 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.335 seconds (process running for 10.065)
2025-01-28 21:27:47,667 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 21:43:22,846 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 21:43:22,849 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 21:43:22,855 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:43:22,860 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 21:43:22,950 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 21:43:26,058 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 52221 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 21:43:26,060 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 21:43:26,061 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 21:43:27,002 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 21:43:27,099 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 87 ms. Found 13 JPA repository interfaces.
2025-01-28 21:43:27,873 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 21:43:27,889 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 21:43:27,889 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 21:43:27,946 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 21:43:27,947 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1807 ms
2025-01-28 21:43:28,022 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 21:43:28,182 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 21:43:28,237 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 21:43:28,273 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 21:43:28,552 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 21:43:28,582 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 21:43:29,321 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@35af1558
2025-01-28 21:43:29,322 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 21:43:29,580 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 21:43:30,814 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 21:43:32,715 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:43:33,114 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 21:43:34,907 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 21:43:34,956 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 21:43:35,014 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 21:43:35,075 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 21:43:35,844 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 21:43:35,853 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.332 seconds (process running for 12.09)
2025-01-28 21:43:35,856 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 21:43:41,807 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 21:43:41,808 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 21:43:41,810 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 21:43:41,831 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/user/register/update/
2025-01-28 21:43:41,831 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 21:43:41,831 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Validating token
2025-01-28 21:43:41,856 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Token validation successful
2025-01-28 21:43:41,856 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting email from token
2025-01-28 21:43:41,857 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted email: jamaStop@example.com
2025-01-28 21:43:41,857 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting role from token
2025-01-28 21:43:41,857 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted role: null
2025-01-28 21:43:41,857 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 21:43:41,859 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 21:43:41,859 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/user/register/update/
2025-01-28 21:43:41,867 WARN o.s.w.s.PageNotFound [http-nio-8083-exec-1] No mapping for POST /api/user/register/update/
2025-01-28 21:43:53,890 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Processing request URI: /api/user/register/create
2025-01-28 21:43:53,890 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 21:43:53,890 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Validating token
2025-01-28 21:43:53,891 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Token validation successful
2025-01-28 21:43:53,891 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracting email from token
2025-01-28 21:43:53,891 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracted email: jamaStop@example.com
2025-01-28 21:43:53,891 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracting role from token
2025-01-28 21:43:53,891 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracted role: null
2025-01-28 21:43:53,891 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 21:43:53,891 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 21:43:53,891 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Proceeding with the filter chain for request: /api/user/register/create
2025-01-28 21:43:53,954 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Received request to create user: com.phanta.waladom.user.UserRequestDTO@1ec04af1
2025-01-28 21:43:53,956 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] Starting validation for user request.
2025-01-28 21:43:53,956 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] User request validation passed successfully.
2025-01-28 21:43:53,956 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Validation passed for user request. Proceeding with creation.
2025-01-28 21:43:57,480 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Starting the createUserOrRegReq method for man@FJk.com. isUser: false
2025-01-28 21:44:05,631 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Checking if the email man@FJk.com already exists in the RegistrationRequest repository
2025-01-28 21:44:16,423 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.EMAIL=?
2025-01-28 21:44:21,669 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Mapping and saving entity for email: man@FJk.com
2025-01-28 21:45:51,290 WARN c.z.h.p.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m7s395ms692µs321ns).
2025-01-28 21:45:51,316 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 21:45:51,353 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 21:45:51,531 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Registration request created successfully for email: man@FJk.com. Returning RegistrationRequestResponseDTO.
2025-01-28 21:45:51,627 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        registration_requests
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, VALIDATED, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 21:45:51,727 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        req_waladom_id_photos
        (CREATED_AT, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 21:45:51,775 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        req_id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 21:45:51,827 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        req_id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 21:45:51,910 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    update
        registration_requests 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        VALIDATED=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 21:45:52,122 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 21:45:56,390 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 52482 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 21:45:56,393 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 21:45:56,395 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 21:45:58,255 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 21:45:58,431 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 161 ms. Found 13 JPA repository interfaces.
2025-01-28 21:45:58,562 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 52552 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 21:45:58,565 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 21:45:58,567 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 21:45:59,840 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 21:45:59,862 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 21:45:59,863 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 21:45:59,975 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 21:45:59,975 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3391 ms
2025-01-28 21:46:00,033 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 21:46:00,094 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 21:46:00,190 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 143 ms. Found 13 JPA repository interfaces.
2025-01-28 21:46:00,366 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 21:46:00,502 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 21:46:00,577 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 21:46:01,077 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 21:46:01,134 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 21:46:01,395 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 21:46:01,417 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 21:46:01,418 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 21:46:01,518 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 21:46:01,518 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2824 ms
2025-01-28 21:46:01,624 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 21:46:01,822 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 21:46:01,940 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 21:46:01,978 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 21:46:02,110 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18ca9277
2025-01-28 21:46:02,113 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 21:46:02,275 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 21:46:02,304 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 21:46:02,379 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 21:46:03,221 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6e017950
2025-01-28 21:46:03,223 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 21:46:03,476 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 21:46:04,115 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 21:46:04,861 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 21:46:05,948 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:46:06,285 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 21:46:06,723 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:46:07,092 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 21:46:08,428 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'passwordResetController' defined in file [/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes/com/phanta/waladom/forgotPassword/PasswordResetController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'passwordResetService' defined in file [/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes/com/phanta/waladom/forgotPassword/PasswordResetService.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'phoneVerificationService' defined in file [/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes/com/phanta/waladom/verification/phone/PhoneVerificationService.class]: Failed to instantiate [com.phanta.waladom.verification.phone.PhoneVerificationService]: Constructor threw exception
2025-01-28 21:46:08,431 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:46:08,434 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-01-28 21:46:08,527 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-01-28 21:46:09,149 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 21:46:09,188 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 21:46:09,271 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 21:46:09,378 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 21:46:10,793 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 21:46:10,803 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 12.901 seconds (process running for 14.39)
2025-01-28 21:46:10,805 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 21:46:10,805 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 21:46:10,807 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 21:46:10,814 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:46:10,816 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 21:46:10,907 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 21:46:14,404 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 52691 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 21:46:14,406 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 21:46:14,407 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 21:46:15,259 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 21:46:15,341 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 73 ms. Found 13 JPA repository interfaces.
2025-01-28 21:46:16,047 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 21:46:16,063 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 21:46:16,064 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 21:46:16,119 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 21:46:16,120 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1650 ms
2025-01-28 21:46:16,186 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 21:46:16,333 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 21:46:16,390 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 21:46:16,421 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 21:46:16,668 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 21:46:16,693 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 21:46:17,369 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1fa18f87
2025-01-28 21:46:17,371 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 21:46:17,604 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 21:46:18,560 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 21:46:20,410 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:46:20,818 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 21:46:22,455 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 21:46:22,502 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 21:46:22,565 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 21:46:22,622 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 21:46:23,319 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 21:46:23,328 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.344 seconds (process running for 10.392)
2025-01-28 21:46:23,331 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 21:46:49,071 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 21:46:49,072 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 21:46:49,074 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 21:46:49,092 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/user/register/create
2025-01-28 21:46:49,093 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 21:46:49,093 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Validating token
2025-01-28 21:46:49,116 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Token validation successful
2025-01-28 21:46:49,116 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting email from token
2025-01-28 21:46:49,116 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted email: jamaStop@example.com
2025-01-28 21:46:49,116 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting role from token
2025-01-28 21:46:49,117 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted role: null
2025-01-28 21:46:49,117 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 21:46:49,119 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 21:46:49,119 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/user/register/create
2025-01-28 21:46:49,186 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Received request to create user: com.phanta.waladom.user.UserRequestDTO@570b261c
2025-01-28 21:46:49,187 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] Starting validation for user request.
2025-01-28 21:46:49,187 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-1] User request validation passed successfully.
2025-01-28 21:46:49,187 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Validation passed for user request. Proceeding with creation.
2025-01-28 21:46:49,242 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Starting the createUserOrRegReq method for man@FJk.com. isUser: false
2025-01-28 21:46:49,243 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Checking if the email man@FJk.com already exists in the RegistrationRequest repository
2025-01-28 21:46:49,305 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.EMAIL=?
2025-01-28 21:46:49,380 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        rwip1_0.ID,
        rwip1_0.CREATED_AT,
        rwip1_0.PHOTO_URL,
        rwip1_0.registration_request_id,
        rwip1_0.UPDATED_AT 
    from
        req_waladom_id_photos rwip1_0 
    where
        rwip1_0.registration_request_id=?
2025-01-28 21:46:49,448 WARN c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Registration request already exists with email: man@FJk.com and ID: RGST_75276a02-bd2e-4d8a-a15c-ec537df9d280
2025-01-28 21:47:06,418 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Processing request URI: /api/user/register/create
2025-01-28 21:47:06,418 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 21:47:06,418 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Validating token
2025-01-28 21:47:06,419 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Token validation successful
2025-01-28 21:47:06,419 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracting email from token
2025-01-28 21:47:06,419 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracted email: jamaStop@example.com
2025-01-28 21:47:06,420 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracting role from token
2025-01-28 21:47:06,420 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracted role: null
2025-01-28 21:47:06,420 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 21:47:06,420 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 21:47:06,420 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Proceeding with the filter chain for request: /api/user/register/create
2025-01-28 21:47:06,423 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Received request to create user: com.phanta.waladom.user.UserRequestDTO@1703d48a
2025-01-28 21:47:06,423 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] Starting validation for user request.
2025-01-28 21:47:06,423 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-2] User request validation passed successfully.
2025-01-28 21:47:06,423 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Validation passed for user request. Proceeding with creation.
2025-01-28 21:47:06,465 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Starting the createUserOrRegReq method for man@kjf.com. isUser: false
2025-01-28 21:47:06,465 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Checking if the email man@kjf.com already exists in the RegistrationRequest repository
2025-01-28 21:47:06,468 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.EMAIL=?
2025-01-28 21:47:06,510 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Mapping and saving entity for email: man@kjf.com
2025-01-28 21:47:06,525 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 21:47:06,581 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Registration request created successfully for email: man@kjf.com. Returning RegistrationRequestResponseDTO.
2025-01-28 21:47:06,591 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        registration_requests
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, VALIDATED, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 21:47:06,645 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        req_waladom_id_photos
        (CREATED_AT, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 21:47:06,689 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        req_id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 21:47:06,731 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    insert 
    into
        req_id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 21:47:06,777 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    update
        registration_requests 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        VALIDATED=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 21:50:20,513 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Processing request URI: /api/user/register/create
2025-01-28 21:50:20,513 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 21:50:20,513 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Validating token
2025-01-28 21:50:20,514 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Token validation successful
2025-01-28 21:50:20,514 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracting email from token
2025-01-28 21:50:20,515 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracted email: jamaStop@example.com
2025-01-28 21:50:20,515 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracting role from token
2025-01-28 21:50:20,515 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracted role: null
2025-01-28 21:50:20,515 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 21:50:20,515 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 21:50:20,516 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Proceeding with the filter chain for request: /api/user/register/create
2025-01-28 21:51:55,503 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-5] Processing request URI: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 21:51:55,503 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-5] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 21:51:55,503 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Validating token
2025-01-28 21:51:55,503 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Token validation successful
2025-01-28 21:51:55,503 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Extracting email from token
2025-01-28 21:51:55,504 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Extracted email: jamaStop@example.com
2025-01-28 21:51:55,504 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Extracting role from token
2025-01-28 21:51:55,504 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Extracted role: null
2025-01-28 21:51:55,504 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-5] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 21:51:55,504 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-5] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 21:51:55,504 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-5] Proceeding with the filter chain for request: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 21:52:04,663 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Processing request URI: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 21:52:04,663 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 21:52:04,663 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Validating token
2025-01-28 21:52:04,664 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Token validation successful
2025-01-28 21:52:04,665 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracting email from token
2025-01-28 21:52:04,665 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracted email: jamaStop@example.com
2025-01-28 21:52:04,665 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracting role from token
2025-01-28 21:52:04,666 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracted role: null
2025-01-28 21:52:04,666 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 21:52:04,666 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 21:52:04,666 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Proceeding with the filter chain for request: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 21:53:38,313 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 21:53:38,315 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 21:53:38,320 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:53:38,322 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 21:53:38,413 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 21:53:42,507 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 53270 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 21:53:42,508 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 21:53:42,510 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 21:53:43,416 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 21:53:43,501 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 77 ms. Found 13 JPA repository interfaces.
2025-01-28 21:53:44,200 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 21:53:44,286 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1716 ms
2025-01-28 21:53:44,354 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 21:53:44,493 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 21:53:44,554 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 21:53:44,584 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 21:53:44,853 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 21:53:44,878 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 21:53:45,554 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@570ed9c
2025-01-28 21:53:45,556 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 21:53:45,780 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 21:53:46,750 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 21:53:48,605 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:53:48,996 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 21:53:50,380 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'passwordResetController' defined in file [/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes/com/phanta/waladom/forgotPassword/PasswordResetController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'passwordResetService' defined in file [/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes/com/phanta/waladom/forgotPassword/PasswordResetService.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'phoneVerificationService' defined in file [/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes/com/phanta/waladom/verification/phone/PhoneVerificationService.class]: Failed to instantiate [com.phanta.waladom.verification.phone.PhoneVerificationService]: Constructor threw exception
2025-01-28 21:53:50,382 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:53:50,386 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-01-28 21:53:50,470 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-01-28 21:58:55,368 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 53648 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 21:58:55,369 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 21:58:55,370 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 21:58:56,426 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 21:58:56,531 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 94 ms. Found 13 JPA repository interfaces.
2025-01-28 21:58:57,513 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 21:58:57,534 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 21:58:57,534 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 21:58:57,605 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 21:58:57,605 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2158 ms
2025-01-28 21:58:57,682 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 21:58:57,873 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 21:58:57,936 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 21:58:57,976 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 21:58:58,329 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 21:58:58,369 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 21:58:59,101 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18ca9277
2025-01-28 21:58:59,102 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 21:58:59,349 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 21:59:00,495 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 21:59:02,345 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:59:02,779 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 21:59:04,636 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 21:59:04,686 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 21:59:04,738 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 21:59:04,794 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 21:59:05,612 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 21:59:05,622 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.678 seconds (process running for 11.621)
2025-01-28 21:59:05,626 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 21:59:15,355 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 21:59:15,356 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 21:59:15,358 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 1 ms
2025-01-28 21:59:15,378 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 21:59:15,379 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 21:59:15,379 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Validating token
2025-01-28 21:59:15,400 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Token validation successful
2025-01-28 21:59:15,400 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting email from token
2025-01-28 21:59:15,401 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted email: jamaStop@example.com
2025-01-28 21:59:15,401 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting role from token
2025-01-28 21:59:15,401 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted role: null
2025-01-28 21:59:15,401 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 21:59:15,402 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 21:59:15,402 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 21:59:45,294 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 21:59:45,296 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 21:59:45,302 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:59:45,304 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 21:59:45,390 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 21:59:47,919 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 53820 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 21:59:47,921 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 21:59:47,922 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 21:59:48,896 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 21:59:48,988 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 83 ms. Found 13 JPA repository interfaces.
2025-01-28 21:59:49,819 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 21:59:49,835 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 21:59:49,836 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 21:59:49,896 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 21:59:49,896 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1908 ms
2025-01-28 21:59:49,979 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 21:59:50,174 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 21:59:50,230 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 21:59:50,266 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 21:59:50,565 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 21:59:50,599 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 21:59:51,307 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18ca9277
2025-01-28 21:59:51,309 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 21:59:51,551 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 21:59:52,673 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 21:59:54,528 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 21:59:54,907 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 21:59:56,728 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 21:59:56,777 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 21:59:56,828 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 21:59:56,888 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 21:59:57,656 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 21:59:57,665 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.219 seconds (process running for 11.836)
2025-01-28 21:59:57,669 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 22:00:14,270 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 22:00:14,270 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 22:00:14,272 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 22:00:14,292 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:00:14,292 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:00:14,292 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Validating token
2025-01-28 22:00:14,315 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Token validation successful
2025-01-28 22:00:14,316 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting email from token
2025-01-28 22:00:14,316 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted email: jamaStop@example.com
2025-01-28 22:00:14,316 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting role from token
2025-01-28 22:00:14,316 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted role: null
2025-01-28 22:00:14,316 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:00:14,317 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:00:14,318 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:01:17,024 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 22:01:17,026 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 22:01:17,032 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:01:17,034 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 22:01:17,125 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 22:01:19,161 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 54011 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 22:01:19,163 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 22:01:19,164 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 22:01:20,191 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 22:01:20,294 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 92 ms. Found 13 JPA repository interfaces.
2025-01-28 22:01:21,056 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 22:01:21,075 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 22:01:21,076 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 22:01:21,146 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 22:01:21,146 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1907 ms
2025-01-28 22:01:21,220 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 22:01:21,380 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 22:01:21,444 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 22:01:21,488 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 22:01:21,831 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 22:01:21,863 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 22:01:22,535 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@577cf459
2025-01-28 22:01:22,536 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 22:01:22,767 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 22:01:23,940 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 22:01:25,779 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:01:26,207 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 22:01:28,026 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 22:01:28,076 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 22:01:28,139 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 22:01:28,202 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 22:01:29,032 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 22:01:29,042 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.291 seconds (process running for 11.45)
2025-01-28 22:01:29,045 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 22:01:38,887 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 22:01:38,887 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 22:01:38,889 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 22:01:38,910 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:01:38,910 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:01:38,910 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Validating token
2025-01-28 22:01:38,934 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Token validation successful
2025-01-28 22:01:38,935 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting email from token
2025-01-28 22:01:38,935 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted email: jamaStop@example.com
2025-01-28 22:01:38,935 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting role from token
2025-01-28 22:01:38,935 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted role: null
2025-01-28 22:01:38,935 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:01:38,936 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:01:38,937 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:04:35,464 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 22:04:35,466 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 22:04:35,471 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:04:35,473 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 22:04:35,558 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 22:04:37,729 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 54315 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 22:04:37,731 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 22:04:37,732 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 22:04:38,656 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 22:04:38,751 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 86 ms. Found 13 JPA repository interfaces.
2025-01-28 22:04:39,588 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 22:04:39,606 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 22:04:39,607 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 22:04:39,671 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 22:04:39,672 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1861 ms
2025-01-28 22:04:39,755 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 22:04:39,914 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 22:04:39,967 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 22:04:40,003 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 22:04:40,324 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 22:04:40,356 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 22:04:41,100 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@24b38e8f
2025-01-28 22:04:41,101 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 22:04:41,371 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 22:04:42,543 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 22:04:44,564 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:04:44,984 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 22:04:46,743 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 22:04:46,787 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 22:04:46,839 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 22:04:46,894 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 22:04:47,690 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 22:04:47,700 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.464 seconds (process running for 11.653)
2025-01-28 22:04:47,703 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 22:05:11,990 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 22:05:11,990 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 22:05:11,991 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 1 ms
2025-01-28 22:05:12,012 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:05:12,012 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:05:12,012 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Validating token
2025-01-28 22:05:12,037 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Token validation successful
2025-01-28 22:05:12,037 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting email from token
2025-01-28 22:05:12,037 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted email: jamaStop@example.com
2025-01-28 22:05:12,037 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting role from token
2025-01-28 22:05:12,038 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted role: null
2025-01-28 22:05:12,038 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:05:12,039 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:05:12,039 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:07:47,974 WARN c.z.h.p.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m36s769ms856µs440ns).
2025-01-28 22:07:48,005 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 22:07:48,058 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 22:07:48,068 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:07:48,071 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 22:07:48,165 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 22:09:25,978 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 54715 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 22:09:25,980 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 22:09:25,981 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 22:09:26,834 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 22:09:26,913 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 70 ms. Found 13 JPA repository interfaces.
2025-01-28 22:09:27,674 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 22:09:27,695 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 22:09:27,695 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 22:09:27,764 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 22:09:27,765 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1728 ms
2025-01-28 22:09:27,854 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 22:09:28,022 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 22:09:28,084 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 22:09:28,119 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 22:09:28,389 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 22:09:28,419 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 22:09:29,100 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@573870cb
2025-01-28 22:09:29,102 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 22:09:29,348 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 22:09:30,364 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 22:09:32,181 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:09:32,550 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 22:09:34,145 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 22:09:34,193 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 22:09:34,244 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 22:09:34,297 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 22:09:34,999 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 22:09:35,010 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.441 seconds (process running for 10.122)
2025-01-28 22:09:35,014 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 22:10:39,992 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 22:10:39,992 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 22:10:39,994 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 22:10:40,011 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:10:40,011 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:10:40,011 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Validating token
2025-01-28 22:10:40,032 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Token validation successful
2025-01-28 22:10:40,032 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting email from token
2025-01-28 22:10:40,032 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted email: jamaStop@example.com
2025-01-28 22:10:40,032 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting role from token
2025-01-28 22:10:40,032 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted role: null
2025-01-28 22:10:40,032 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:10:40,033 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:10:40,034 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:11:18,026 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 22:11:18,028 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 22:11:18,034 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:11:18,036 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 22:11:18,120 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 22:11:21,047 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 54959 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 22:11:21,048 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 22:11:21,049 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 22:11:21,857 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 22:11:21,938 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 72 ms. Found 13 JPA repository interfaces.
2025-01-28 22:11:22,599 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 22:11:22,614 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 22:11:22,614 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 22:11:22,664 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 22:11:22,664 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1568 ms
2025-01-28 22:11:22,733 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 22:11:22,875 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 22:11:22,935 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 22:11:22,976 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 22:11:23,233 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 22:11:23,260 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 22:11:23,948 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5034681f
2025-01-28 22:11:23,951 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 22:11:24,192 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 22:11:25,194 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 22:11:27,045 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:11:27,433 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 22:11:29,011 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 22:11:29,056 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 22:11:29,130 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 22:11:29,195 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 22:11:29,960 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 22:11:29,973 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.341 seconds (process running for 9.984)
2025-01-28 22:11:29,977 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 22:11:35,438 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 22:11:35,438 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 22:11:35,439 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 1 ms
2025-01-28 22:11:35,459 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:11:35,459 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:11:35,459 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Validating token
2025-01-28 22:11:35,480 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Token validation successful
2025-01-28 22:11:35,480 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting email from token
2025-01-28 22:11:35,480 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted email: jamaStop@example.com
2025-01-28 22:11:35,480 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting role from token
2025-01-28 22:11:35,481 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted role: null
2025-01-28 22:11:35,481 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:11:35,482 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:11:35,482 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:13:43,325 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Processing request URI: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:13:43,325 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:13:43,325 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Validating token
2025-01-28 22:13:43,326 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Token validation successful
2025-01-28 22:13:43,326 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracting email from token
2025-01-28 22:13:43,326 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracted email: jamaStop@example.com
2025-01-28 22:13:43,326 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracting role from token
2025-01-28 22:13:43,327 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Extracted role: null
2025-01-28 22:13:43,327 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:13:43,327 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:13:43,327 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Proceeding with the filter chain for request: /api/user/register/update/RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:13:43,331 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Received request to update registration with ID: RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:13:43,332 INFO c.p.w.u.UserService [http-nio-8083-exec-2] Entering method isEmpty() for requestBody
2025-01-28 22:13:43,332 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Attempting to update registration request with ID: RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:13:43,403 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.ID=?
2025-01-28 22:13:43,474 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        rwip1_0.ID,
        rwip1_0.CREATED_AT,
        rwip1_0.PHOTO_URL,
        rwip1_0.registration_request_id,
        rwip1_0.UPDATED_AT 
    from
        req_waladom_id_photos rwip1_0 
    where
        rwip1_0.registration_request_id=?
2025-01-28 22:13:43,592 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 22:13:43,747 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        rip1_0.ID,
        rip1_0.CREATED_AT,
        rip1_0.PHOTO_TYPE,
        rip1_0.PHOTO_URL,
        rip1_0.registration_request_id,
        rip1_0.UPDATED_AT 
    from
        req_id_proof_photos rip1_0 
    where
        rip1_0.registration_request_id=? 
        and rip1_0.PHOTO_TYPE=?
2025-01-28 22:13:43,825 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    update
        registration_requests 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        VALIDATED=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 22:13:43,888 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    update
        req_id_proof_photos 
    set
        PHOTO_TYPE=?,
        PHOTO_URL=?,
        registration_request_id=?,
        UPDATED_AT=? 
    where
        ID=?
2025-01-28 22:13:43,978 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        rip1_0.ID,
        rip1_0.CREATED_AT,
        rip1_0.PHOTO_TYPE,
        rip1_0.PHOTO_URL,
        rip1_0.registration_request_id,
        rip1_0.UPDATED_AT 
    from
        req_id_proof_photos rip1_0 
    where
        rip1_0.registration_request_id=? 
        and rip1_0.PHOTO_TYPE=?
2025-01-28 22:13:44,029 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    update
        req_id_proof_photos 
    set
        PHOTO_TYPE=?,
        PHOTO_URL=?,
        registration_request_id=?,
        UPDATED_AT=? 
    where
        ID=?
2025-01-28 22:13:44,117 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        rwip1_0.ID,
        rwip1_0.CREATED_AT,
        rwip1_0.PHOTO_URL,
        rwip1_0.registration_request_id,
        rwip1_0.UPDATED_AT 
    from
        req_waladom_id_photos rwip1_0 
    where
        rwip1_0.registration_request_id=?
2025-01-28 22:13:44,161 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    update
        req_waladom_id_photos 
    set
        PHOTO_URL=?,
        registration_request_id=?,
        UPDATED_AT=? 
    where
        ID=?
2025-01-28 22:13:44,252 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        ripp1_0.registration_request_id,
        ripp1_0.ID,
        ripp1_0.CREATED_AT,
        ripp1_0.PHOTO_TYPE,
        ripp1_0.PHOTO_URL,
        ripp1_0.UPDATED_AT 
    from
        req_id_proof_photos ripp1_0 
    where
        ripp1_0.registration_request_id=?
2025-01-28 22:13:44,299 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-2] Successfully updated registration with ID: RGST_3e8576f7-b815-4851-873f-51671b27ee76
2025-01-28 22:16:19,572 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Processing request URI: /api/user/register/create
2025-01-28 22:16:19,572 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:16:19,572 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Validating token
2025-01-28 22:16:19,573 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Token validation successful
2025-01-28 22:16:19,573 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracting email from token
2025-01-28 22:16:19,573 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracted email: jamaStop@example.com
2025-01-28 22:16:19,573 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracting role from token
2025-01-28 22:16:19,574 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracted role: null
2025-01-28 22:16:19,574 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:16:19,574 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:16:19,574 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Proceeding with the filter chain for request: /api/user/register/create
2025-01-28 22:17:06,125 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-5] Processing request URI: /api/user/register/create
2025-01-28 22:17:06,125 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-5] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:17:06,125 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Validating token
2025-01-28 22:17:06,126 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Token validation successful
2025-01-28 22:17:06,126 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Extracting email from token
2025-01-28 22:17:06,126 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Extracted email: jamaStop@example.com
2025-01-28 22:17:06,126 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Extracting role from token
2025-01-28 22:17:06,127 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-5] Extracted role: null
2025-01-28 22:17:06,127 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-5] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:17:06,127 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-5] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:17:06,127 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-5] Proceeding with the filter chain for request: /api/user/register/create
2025-01-28 22:17:06,129 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-5] Received request to create user: com.phanta.waladom.user.UserRequestDTO@43fd9725
2025-01-28 22:17:06,130 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-5] Starting validation for user request.
2025-01-28 22:17:06,130 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-5] User request validation passed successfully.
2025-01-28 22:17:06,131 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-5] Validation passed for user request. Proceeding with creation.
2025-01-28 22:17:06,179 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-5] Starting the createUserOrRegReq method for hash@how.com. isUser: false
2025-01-28 22:17:06,179 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-5] Checking if the email hash@how.com already exists in the RegistrationRequest repository
2025-01-28 22:17:06,183 DEBUG o.h.SQL [http-nio-8083-exec-5] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.EMAIL=?
2025-01-28 22:17:06,231 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-5] Mapping and saving entity for email: hash@how.com
2025-01-28 22:17:06,330 DEBUG o.h.SQL [http-nio-8083-exec-5] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 22:17:06,378 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-5] Registration request created successfully for email: hash@how.com. Returning RegistrationRequestResponseDTO.
2025-01-28 22:17:06,381 DEBUG o.h.SQL [http-nio-8083-exec-5] 
    insert 
    into
        registration_requests
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, VALIDATED, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 22:17:06,451 WARN o.h.e.j.s.SqlExceptionHelper [http-nio-8083-exec-5] SQL Error: 0, SQLState: 23505
2025-01-28 22:17:06,452 ERROR o.h.e.j.s.SqlExceptionHelper [http-nio-8083-exec-5] ERROR: duplicate key value violates unique constraint "registration_requests_phone_key"
  Detail: Key (phone)=(8989320989) already exists.
2025-01-28 22:17:15,468 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Processing request URI: /api/user/register/create
2025-01-28 22:17:15,468 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:17:15,468 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Validating token
2025-01-28 22:17:15,469 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Token validation successful
2025-01-28 22:17:15,469 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracting email from token
2025-01-28 22:17:15,469 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracted email: jamaStop@example.com
2025-01-28 22:17:15,469 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracting role from token
2025-01-28 22:17:15,469 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracted role: null
2025-01-28 22:17:15,469 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:17:15,469 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:17:15,469 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Proceeding with the filter chain for request: /api/user/register/create
2025-01-28 22:17:15,471 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-6] Received request to create user: com.phanta.waladom.user.UserRequestDTO@e592908
2025-01-28 22:17:15,471 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-6] Starting validation for user request.
2025-01-28 22:17:15,471 INFO c.p.w.u.UserRequestValidator [http-nio-8083-exec-6] User request validation passed successfully.
2025-01-28 22:17:15,472 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-6] Validation passed for user request. Proceeding with creation.
2025-01-28 22:17:15,516 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-6] Starting the createUserOrRegReq method for hash@how.com. isUser: false
2025-01-28 22:17:15,517 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-6] Checking if the email hash@how.com already exists in the RegistrationRequest repository
2025-01-28 22:17:15,521 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.EMAIL=?
2025-01-28 22:17:15,564 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-6] Mapping and saving entity for email: hash@how.com
2025-01-28 22:17:15,652 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 22:17:15,699 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-6] Registration request created successfully for email: hash@how.com. Returning RegistrationRequestResponseDTO.
2025-01-28 22:17:15,701 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    insert 
    into
        registration_requests
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, VALIDATED, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 22:17:15,745 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    insert 
    into
        req_waladom_id_photos
        (CREATED_AT, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 22:17:15,787 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    insert 
    into
        req_id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 22:17:15,830 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    insert 
    into
        req_id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, registration_request_id, UPDATED_AT, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 22:17:15,873 DEBUG o.h.SQL [http-nio-8083-exec-6] 
    update
        registration_requests 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        VALIDATED=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 22:23:55,128 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-8] Processing request URI: /api/user/register/update/RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:23:55,128 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-8] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:23:55,128 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-8] Validating token
2025-01-28 22:23:55,128 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-8] Token validation successful
2025-01-28 22:23:55,128 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-8] Extracting email from token
2025-01-28 22:23:55,129 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-8] Extracted email: jamaStop@example.com
2025-01-28 22:23:55,129 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-8] Extracting role from token
2025-01-28 22:23:55,129 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-8] Extracted role: null
2025-01-28 22:23:55,129 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-8] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:23:55,129 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-8] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:23:55,129 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-8] Proceeding with the filter chain for request: /api/user/register/update/RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:23:55,130 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-8] Received request to update registration with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:23:55,131 INFO c.p.w.u.UserService [http-nio-8083-exec-8] Entering method isEmpty() for requestBody
2025-01-28 22:23:55,131 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-8] Checking if 'validated' field in UserRequestDTO is empty or invalid.
2025-01-28 22:23:55,131 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-8] The 'validated' field has a valid value: true for UserRequestDTO: com.phanta.waladom.user.UserRequestDTO@4ba0207e
2025-01-28 22:23:55,131 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-8] Validation check completed. Result: false
2025-01-28 22:23:55,131 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-8] Attempting to update registration request with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:23:55,179 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.ID=?
2025-01-28 22:23:55,223 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        rwip1_0.ID,
        rwip1_0.CREATED_AT,
        rwip1_0.PHOTO_URL,
        rwip1_0.registration_request_id,
        rwip1_0.UPDATED_AT 
    from
        req_waladom_id_photos rwip1_0 
    where
        rwip1_0.registration_request_id=?
2025-01-28 22:23:55,307 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    update
        registration_requests 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        VALIDATED=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 22:23:55,392 DEBUG o.h.SQL [http-nio-8083-exec-8] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 22:23:55,481 ERROR c.p.w.r.RegistrationRequestController [http-nio-8083-exec-8] Unexpected error occurred while updating registration with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
org.springframework.orm.jpa.JpaSystemException: Identifier of entity 'com.phanta.waladom.user.User' must be manually assigned before calling 'persist()'
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:341)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy147.save(Unknown Source)
	at com.phanta.waladom.shared.user.UserManagementService.save(UserManagementService.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.phanta.waladom.shared.user.UserManagementService$$SpringCGLIB$$0.save(<generated>)
	at com.phanta.waladom.shared.user.UserAndRegistrationService.saveUserFromRegisterationRequest(UserAndRegistrationService.java:843)
	at com.phanta.waladom.shared.user.UserAndRegistrationService.updateRegistrationRequest(UserAndRegistrationService.java:326)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723)
	at com.phanta.waladom.shared.user.UserAndRegistrationService$$SpringCGLIB$$0.updateRegistrationRequest(<generated>)
	at com.phanta.waladom.registration.RegistrationRequestController.updateRegistrationRequest(RegistrationRequestController.java:82)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.phanta.waladom.oauthToken.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.id.IdentifierGenerationException: Identifier of entity 'com.phanta.waladom.user.User' must be manually assigned before calling 'persist()'
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:208)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy141.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy141.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:627)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 122 common frames omitted
2025-01-28 22:26:42,280 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 22:26:42,282 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 22:26:42,289 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:26:42,292 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 22:26:42,415 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 22:26:47,320 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 56588 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 22:26:47,322 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 22:26:47,323 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 22:26:48,153 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 22:26:48,231 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 70 ms. Found 13 JPA repository interfaces.
2025-01-28 22:26:48,940 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 22:26:48,956 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 22:26:48,956 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 22:26:49,019 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 22:26:49,020 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1629 ms
2025-01-28 22:26:49,080 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 22:26:49,237 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 22:26:49,308 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 22:26:49,341 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 22:26:49,613 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 22:26:49,649 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 22:26:50,450 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@fceab5d
2025-01-28 22:26:50,453 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 22:26:50,739 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 22:26:51,746 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 22:26:53,785 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:26:54,159 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 22:26:55,723 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 22:26:55,763 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 22:26:55,806 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 22:26:55,851 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 22:26:56,529 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 22:26:56,538 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.671 seconds (process running for 10.428)
2025-01-28 22:26:56,541 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 22:27:02,344 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 22:27:02,344 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 22:27:02,346 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 22:27:02,364 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/user/register/update/RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:27:02,364 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:27:02,364 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Validating token
2025-01-28 22:27:02,387 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Token validation successful
2025-01-28 22:27:02,387 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting email from token
2025-01-28 22:27:02,387 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted email: jamaStop@example.com
2025-01-28 22:27:02,387 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting role from token
2025-01-28 22:27:02,387 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted role: null
2025-01-28 22:27:02,388 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:27:02,389 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:27:02,389 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/user/register/update/RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:27:02,463 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Received request to update registration with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:27:02,463 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Entering method isEmpty() for requestBody
2025-01-28 22:27:02,463 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Checking if 'validated' field in UserRequestDTO is empty or invalid.
2025-01-28 22:27:02,467 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] The 'validated' field has a valid value: true for UserRequestDTO: com.phanta.waladom.user.UserRequestDTO@1a31c2f4
2025-01-28 22:27:02,467 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Validation check completed. Result: false
2025-01-28 22:27:02,467 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Attempting to update registration request with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:27:02,543 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.ID=?
2025-01-28 22:27:02,627 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        rwip1_0.ID,
        rwip1_0.CREATED_AT,
        rwip1_0.PHOTO_URL,
        rwip1_0.registration_request_id,
        rwip1_0.UPDATED_AT 
    from
        req_waladom_id_photos rwip1_0 
    where
        rwip1_0.registration_request_id=?
2025-01-28 22:27:02,751 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        ripp1_0.registration_request_id,
        ripp1_0.ID,
        ripp1_0.CREATED_AT,
        ripp1_0.PHOTO_TYPE,
        ripp1_0.PHOTO_URL,
        ripp1_0.UPDATED_AT 
    from
        req_id_proof_photos ripp1_0 
    where
        ripp1_0.registration_request_id=?
2025-01-28 22:27:02,804 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 22:27:02,855 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Successfully updated registration with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:32:38,261 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 22:32:38,263 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 22:32:38,268 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:32:38,271 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 22:32:38,370 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 22:32:42,774 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 57129 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 22:32:42,776 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 22:32:42,777 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 22:32:43,730 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 22:32:43,844 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 103 ms. Found 13 JPA repository interfaces.
2025-01-28 22:32:44,643 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 22:32:44,660 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 22:32:44,660 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 22:32:44,718 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 22:32:44,719 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1862 ms
2025-01-28 22:32:44,797 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 22:32:44,996 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 22:32:45,068 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 22:32:45,113 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 22:32:45,403 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 22:32:45,438 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 22:32:46,226 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5cf072ea
2025-01-28 22:32:46,228 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 22:32:46,529 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 22:32:47,573 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 22:32:49,845 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:32:50,275 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 22:32:52,146 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 22:32:52,205 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 22:32:52,259 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 22:32:52,309 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 22:32:53,051 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 22:32:53,064 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 10.726 seconds (process running for 11.774)
2025-01-28 22:32:53,069 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 22:33:01,549 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 22:33:01,549 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 22:33:01,551 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 2 ms
2025-01-28 22:33:01,572 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/user/register/update/RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:33:01,572 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:33:01,572 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Validating token
2025-01-28 22:33:01,597 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Token validation successful
2025-01-28 22:33:01,597 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting email from token
2025-01-28 22:33:01,598 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted email: jamaStop@example.com
2025-01-28 22:33:01,598 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracting role from token
2025-01-28 22:33:01,598 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-1] Extracted role: null
2025-01-28 22:33:01,598 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:33:01,600 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:33:01,600 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/user/register/update/RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:33:01,679 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Received request to update registration with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:33:01,680 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Entering method isEmpty() for requestBody
2025-01-28 22:33:01,680 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Checking if 'validated' field in UserRequestDTO is empty or invalid.
2025-01-28 22:33:01,690 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] The 'validated' field has a valid value: true for UserRequestDTO: com.phanta.waladom.user.UserRequestDTO@1b49ecfb
2025-01-28 22:33:01,690 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Validation check completed. Result: false
2025-01-28 22:33:01,690 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Attempting to update registration request with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:33:06,531 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.ID=?
2025-01-28 22:33:06,736 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        rwip1_0.ID,
        rwip1_0.CREATED_AT,
        rwip1_0.PHOTO_URL,
        rwip1_0.registration_request_id,
        rwip1_0.UPDATED_AT 
    from
        req_waladom_id_photos rwip1_0 
    where
        rwip1_0.registration_request_id=?
2025-01-28 22:34:20,305 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    update
        registration_requests 
    set
        BIRTH_CITY=?,
        BIRTH_COUNTRY=?,
        BIRTH_DATE=?,
        BIRTH_VILLAGE=?,
        COMMENTS=?,
        CONNECTION_METHOD=?,
        CURRENT_CITY=?,
        CURRENT_COUNTRY=?,
        CURRENT_VILLAGE=?,
        EMAIL=?,
        FIRST_NAME=?,
        ID_CARD_ID=?,
        IS_ACTIVE=?,
        LAST_NAME=?,
        MARITAL_STATUS=?,
        MOTHERS_FIRST_NAME=?,
        MOTHERS_LAST_NAME=?,
        NATIONALITIES=?,
        NUMBER_OF_KIDS=?,
        OCCUPATION=?,
        PASSWORD=?,
        PHONE=?,
        ROLE_ID=?,
        SEX=?,
        STATUS=?,
        TRIBE=?,
        UPDATED_AT=?,
        VALIDATED=?,
        WALADOM_CARD_ID=? 
    where
        ID=?
2025-01-28 22:34:40,955 WARN c.z.h.p.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49s856ms114µs489ns).
2025-01-28 22:34:45,238 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 22:34:45,413 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID,
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID,
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        USERS u1_0 
    left join
        waladom_id_photos wip1_0 
            on u1_0.ID=wip1_0.USER_ID 
    left join
        id_proof_photos ipp1_0 
            on u1_0.ID=ipp1_0.USER_ID 
    where
        u1_0.ID=?
2025-01-28 22:34:45,518 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        USERS
        (BIRTH_CITY, BIRTH_COUNTRY, BIRTH_DATE, BIRTH_VILLAGE, COMMENTS, CONNECTION_METHOD, CREATED_AT, CURRENT_CITY, CURRENT_COUNTRY, CURRENT_VILLAGE, EMAIL, FIRST_NAME, ID_CARD_ID, IS_ACTIVE, LAST_NAME, MARITAL_STATUS, MOTHERS_FIRST_NAME, MOTHERS_LAST_NAME, NATIONALITIES, NUMBER_OF_KIDS, OCCUPATION, PASSWORD, PHONE, ROLE_ID, SEX, STATUS, TRIBE, UPDATED_AT, WALADOM_CARD_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-01-28 22:34:45,697 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        null,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.ID=?
2025-01-28 22:34:45,768 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        waladom_id_photos
        (CREATED_AT, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?)
2025-01-28 22:34:45,899 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        ripp1_0.registration_request_id,
        ripp1_0.ID,
        ripp1_0.CREATED_AT,
        ripp1_0.PHOTO_TYPE,
        ripp1_0.PHOTO_URL,
        ripp1_0.UPDATED_AT 
    from
        req_id_proof_photos ripp1_0 
    where
        ripp1_0.registration_request_id=?
2025-01-28 22:34:45,981 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 22:34:46,105 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    insert 
    into
        id_proof_photos
        (CREATED_AT, PHOTO_TYPE, PHOTO_URL, UPDATED_AT, USER_ID, ID) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-28 22:35:04,469 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-1] Successfully updated registration with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:35:04,496 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-01-28 22:35:04,548 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-01-28 22:35:04,557 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:35:04,560 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-01-28 22:35:04,708 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-01-28 22:35:06,704 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 57375 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 22:35:06,706 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 22:35:06,707 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 22:35:07,719 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 22:35:07,848 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 116 ms. Found 13 JPA repository interfaces.
2025-01-28 22:35:08,764 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 22:35:08,786 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 22:35:08,786 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 22:35:08,864 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 22:35:08,864 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2075 ms
2025-01-28 22:35:08,963 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 22:35:09,158 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 22:35:09,227 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 22:35:09,266 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 22:35:09,622 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 22:35:09,666 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 22:35:10,512 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@24842b8e
2025-01-28 22:35:10,514 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 22:35:10,818 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 22:35:12,098 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 22:35:14,397 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:35:14,786 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 22:35:16,135 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'passwordResetController' defined in file [/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes/com/phanta/waladom/forgotPassword/PasswordResetController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'passwordResetService' defined in file [/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes/com/phanta/waladom/forgotPassword/PasswordResetService.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'phoneVerificationService' defined in file [/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes/com/phanta/waladom/verification/phone/PhoneVerificationService.class]: Failed to instantiate [com.phanta.waladom.verification.phone.PhoneVerificationService]: Constructor threw exception
2025-01-28 22:35:16,136 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:35:16,139 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-01-28 22:35:16,241 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-01-28 22:35:20,312 INFO c.p.w.WaladomApplication [main] Starting WaladomApplication using Java 23.0.1 with PID 57480 (/home/ibo/projects/waladom/backend/waladomBackEnd/waladom/target/classes started by ibo in /home/ibo/projects/waladom/backend/waladomBackEnd/waladom)
2025-01-28 22:35:20,314 DEBUG c.p.w.WaladomApplication [main] Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-28 22:35:20,315 INFO c.p.w.WaladomApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-01-28 22:35:21,197 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-28 22:35:21,298 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 91 ms. Found 13 JPA repository interfaces.
2025-01-28 22:35:22,039 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8083 (http)
2025-01-28 22:35:22,054 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2025-01-28 22:35:22,054 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-28 22:35:22,117 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2025-01-28 22:35:22,117 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1743 ms
2025-01-28 22:35:22,192 DEBUG c.p.w.o.JwtAuthenticationFilter [main] Filter 'jwtAuthenticationFilter' configured for use
2025-01-28 22:35:22,345 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-28 22:35:22,397 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-28 22:35:22,425 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-01-28 22:35:22,662 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-28 22:35:22,691 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-01-28 22:35:23,411 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1fa18f87
2025-01-28 22:35:23,413 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-01-28 22:35:23,690 INFO o.h.o.c.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-28 22:35:24,660 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-28 22:35:26,722 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-28 22:35:27,117 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-28 22:35:28,756 INFO c.p.w.u.UserController [main] UserController initialized with UserService, UserAndRegistrationService, and ObjectMapper.
2025-01-28 22:35:28,808 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-28 22:35:28,870 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-28 22:35:28,944 WARN o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry [main] One of the patterns in [/api/auth/login, /api/auth/refresh, /api/user/createDTO, api/verification/**, /public/**, /api/user/password/**, /api/user/register/create] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-01-28 22:35:29,700 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8083 (http) with context path '/'
2025-01-28 22:35:29,711 INFO c.p.w.WaladomApplication [main] Started WaladomApplication in 9.807 seconds (process running for 10.53)
2025-01-28 22:35:29,714 INFO c.p.w.WaladomApplication [main] Waladom application is running....
2025-01-28 22:38:27,583 INFO o.a.c.c.C.[.[.[/] [http-nio-8083-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-28 22:38:27,583 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Initializing Servlet 'dispatcherServlet'
2025-01-28 22:38:27,584 INFO o.s.w.s.DispatcherServlet [http-nio-8083-exec-1] Completed initialization in 1 ms
2025-01-28 22:38:27,599 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Processing request URI: /api/auth/login
2025-01-28 22:38:27,600 WARN c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Authorization header does not start with 'Bearer ': Basic ODkzMjA5ODk6aGFzaA==
2025-01-28 22:38:27,600 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-1] Proceeding with the filter chain for request: /api/auth/login
2025-01-28 22:38:27,617 INFO c.p.w.o.AuthController [http-nio-8083-exec-1] Received login request.
2025-01-28 22:38:27,617 INFO c.p.w.o.AuthController [http-nio-8083-exec-1] Attempting login for identifier: 89320989 using connection method: phone
2025-01-28 22:38:27,621 INFO c.p.w.u.UserService [http-nio-8083-exec-1] Login attempt with identifier: 89320989 and connection method: phone
2025-01-28 22:38:27,621 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] Searching user by phone: 89320989
2025-01-28 22:38:27,677 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 22:38:27,810 DEBUG o.h.SQL [http-nio-8083-exec-1] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 22:38:27,872 DEBUG c.p.w.u.UserService [http-nio-8083-exec-1] User found: hash@how.com
2025-01-28 22:38:27,963 WARN c.p.w.u.UserService [http-nio-8083-exec-1] Password verification failed for user: 89320989
2025-01-28 22:39:09,715 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Processing request URI: /api/auth/login
2025-01-28 22:39:09,716 WARN c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Authorization header does not start with 'Bearer ': Basic ODkzMjA5ODk6U2VjdXJlUGFzc3dvcmQxMjMh
2025-01-28 22:39:09,716 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-2] Proceeding with the filter chain for request: /api/auth/login
2025-01-28 22:39:09,717 INFO c.p.w.o.AuthController [http-nio-8083-exec-2] Received login request.
2025-01-28 22:39:09,718 INFO c.p.w.o.AuthController [http-nio-8083-exec-2] Attempting login for identifier: 89320989 using connection method: phone
2025-01-28 22:39:09,718 INFO c.p.w.u.UserService [http-nio-8083-exec-2] Login attempt with identifier: 89320989 and connection method: phone
2025-01-28 22:39:09,718 DEBUG c.p.w.u.UserService [http-nio-8083-exec-2] Searching user by phone: 89320989
2025-01-28 22:39:09,722 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        u1_0.ID,
        u1_0.BIRTH_CITY,
        u1_0.BIRTH_COUNTRY,
        u1_0.BIRTH_DATE,
        u1_0.BIRTH_VILLAGE,
        u1_0.COMMENTS,
        u1_0.CONNECTION_METHOD,
        u1_0.CREATED_AT,
        u1_0.CURRENT_CITY,
        u1_0.CURRENT_COUNTRY,
        u1_0.CURRENT_VILLAGE,
        u1_0.EMAIL,
        u1_0.FIRST_NAME,
        u1_0.ID_CARD_ID,
        u1_0.IS_ACTIVE,
        u1_0.LAST_NAME,
        u1_0.MARITAL_STATUS,
        u1_0.MOTHERS_FIRST_NAME,
        u1_0.MOTHERS_LAST_NAME,
        u1_0.NAME,
        u1_0.NATIONALITIES,
        u1_0.NUMBER_OF_KIDS,
        u1_0.OCCUPATION,
        u1_0.PASSWORD,
        u1_0.PHONE,
        u1_0.ROLE_ID,
        u1_0.SEX,
        u1_0.STATUS,
        u1_0.TRIBE,
        u1_0.UPDATED_AT,
        u1_0.WALADOM_CARD_ID 
    from
        USERS u1_0 
    where
        u1_0.PHONE=?
2025-01-28 22:39:09,817 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        wip1_0.ID,
        wip1_0.CREATED_AT,
        wip1_0.PHOTO_URL,
        wip1_0.UPDATED_AT,
        wip1_0.USER_ID 
    from
        waladom_id_photos wip1_0 
    where
        wip1_0.USER_ID=?
2025-01-28 22:39:09,865 DEBUG c.p.w.u.UserService [http-nio-8083-exec-2] User found: hash@how.com
2025-01-28 22:39:09,960 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT 
    from
        ROLES r1_0 
    where
        r1_0.ID=?
2025-01-28 22:39:10,007 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Generating access token for email: hash@how.com with role: User
2025-01-28 22:39:10,018 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Access token generated successfully for email: hash@how.com
2025-01-28 22:39:10,018 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Generating refresh token for email: hash@how.com
2025-01-28 22:39:10,019 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-2] Refresh token generated successfully for email: hash@how.com
2025-01-28 22:39:10,019 INFO c.p.w.u.UserService [http-nio-8083-exec-2] Login successful for user: 89320989
2025-01-28 22:39:10,022 DEBUG o.h.SQL [http-nio-8083-exec-2] 
    select
        ipp1_0.USER_ID,
        ipp1_0.ID,
        ipp1_0.CREATED_AT,
        ipp1_0.PHOTO_TYPE,
        ipp1_0.PHOTO_URL,
        ipp1_0.UPDATED_AT 
    from
        id_proof_photos ipp1_0 
    where
        ipp1_0.USER_ID=?
2025-01-28 22:40:28,449 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Processing request URI: /api/user/register/delete/RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:40:28,450 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:40:28,450 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Validating token
2025-01-28 22:40:28,468 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Token validation successful
2025-01-28 22:40:28,468 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracting email from token
2025-01-28 22:40:28,468 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracted email: jamaStop@example.com
2025-01-28 22:40:28,468 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracting role from token
2025-01-28 22:40:28,468 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-4] Extracted role: null
2025-01-28 22:40:28,469 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:40:28,469 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:40:28,469 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-4] Proceeding with the filter chain for request: /api/user/register/delete/RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:40:28,478 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Received request to delete registration with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:40:28,478 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Starting deletion process for registration request with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:40:28,539 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        rr1_0.ROLE_ID,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    where
        rr1_0.ID=?
2025-01-28 22:40:28,588 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        rwip1_0.ID,
        rwip1_0.CREATED_AT,
        rwip1_0.PHOTO_URL,
        rwip1_0.registration_request_id,
        rwip1_0.UPDATED_AT 
    from
        req_waladom_id_photos rwip1_0 
    where
        rwip1_0.registration_request_id=?
2025-01-28 22:40:28,690 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Registration request with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89 found.
2025-01-28 22:40:28,699 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    select
        ripp1_0.registration_request_id,
        ripp1_0.ID,
        ripp1_0.CREATED_AT,
        ripp1_0.PHOTO_TYPE,
        ripp1_0.PHOTO_URL,
        ripp1_0.UPDATED_AT 
    from
        req_id_proof_photos ripp1_0 
    where
        ripp1_0.registration_request_id=?
2025-01-28 22:40:28,779 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    delete 
    from
        req_id_proof_photos 
    where
        ID=?
2025-01-28 22:40:28,829 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    delete 
    from
        req_id_proof_photos 
    where
        ID=?
2025-01-28 22:40:28,874 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    delete 
    from
        req_waladom_id_photos 
    where
        ID=?
2025-01-28 22:40:28,922 DEBUG o.h.SQL [http-nio-8083-exec-4] 
    delete 
    from
        registration_requests 
    where
        ID=?
2025-01-28 22:40:29,018 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Registration request with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89 successfully deleted from the repository.
2025-01-28 22:40:29,018 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Deleting Waladom card photo from S3 with URL: base64-encoded-string-for-waladom-card
2025-01-28 22:40:29,018 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Successfully deleted Waladom card photo from S3 with URL: base64-encoded-string-for-waladom-card
2025-01-28 22:40:29,018 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Deleting first ID proof photo from S3 with URL: base64-encoded-string-for-front-photo
2025-01-28 22:40:29,018 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Successfully deleted first ID proof photo from S3 with URL: base64-encoded-string-for-front-photo
2025-01-28 22:40:29,019 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Deleting second ID proof photo from S3 with URL: base64-encoded-string-for-back-photo
2025-01-28 22:40:29,019 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Successfully deleted second ID proof photo from S3 with URL: base64-encoded-string-for-back-photo
2025-01-28 22:40:29,019 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Deletion process completed successfully for registration request with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:40:29,019 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-4] Successfully deleted registration with ID: RGST_e39058fc-795a-4d9a-877d-f5f68e703c89
2025-01-28 22:43:41,634 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Processing request URI: /api/user/register/get/all
2025-01-28 22:43:41,635 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:43:41,635 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Validating token
2025-01-28 22:43:41,635 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Token validation successful
2025-01-28 22:43:41,635 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracting email from token
2025-01-28 22:43:41,636 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracted email: jamaStop@example.com
2025-01-28 22:43:41,636 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracting role from token
2025-01-28 22:43:41,636 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-6] Extracted role: null
2025-01-28 22:43:41,636 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:43:41,636 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:43:41,636 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-6] Proceeding with the filter chain for request: /api/user/register/get/all
2025-01-28 22:43:50,244 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-7] Processing request URI: /api/user/register/get/all
2025-01-28 22:43:50,244 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-7] Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqYW1hU3RvcEBleGFtcGxlLmNvbSIsImlhdCI6MTczNzc0MTM5MSwiZXhwIjoxNzM4MzQ2MTkxfQ.6FkPJgTNV_h_5KsQVYvnqnfix3Y5qq24jGRYuBM4u94
2025-01-28 22:43:50,244 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-7] Validating token
2025-01-28 22:43:50,245 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-7] Token validation successful
2025-01-28 22:43:50,245 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-7] Extracting email from token
2025-01-28 22:43:50,246 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-7] Extracted email: jamaStop@example.com
2025-01-28 22:43:50,246 INFO c.p.w.o.JwtTokenUtil [http-nio-8083-exec-7] Extracting role from token
2025-01-28 22:43:50,247 DEBUG c.p.w.o.JwtTokenUtil [http-nio-8083-exec-7] Extracted role: null
2025-01-28 22:43:50,247 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-7] Token is valid. Email: jamaStop@example.com, Role: null
2025-01-28 22:43:50,247 INFO c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-7] User 'jamaStop@example.com' authenticated successfully with role: ROLE_null
2025-01-28 22:43:50,248 DEBUG c.p.w.o.JwtAuthenticationFilter [http-nio-8083-exec-7] Proceeding with the filter chain for request: /api/user/register/get/all
2025-01-28 22:43:50,249 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Received request to fetch all registration requests.
2025-01-28 22:43:50,299 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Starting getAllRegistrationRequests method.
2025-01-28 22:43:50,299 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Fetching all registration requests with associations from the repository.
2025-01-28 22:43:50,318 DEBUG o.h.SQL [http-nio-8083-exec-7] 
    select
        rr1_0.ID,
        rr1_0.BIRTH_CITY,
        rr1_0.BIRTH_COUNTRY,
        rr1_0.BIRTH_DATE,
        rr1_0.BIRTH_VILLAGE,
        rr1_0.COMMENTS,
        rr1_0.CONNECTION_METHOD,
        rr1_0.CREATED_AT,
        rr1_0.CURRENT_CITY,
        rr1_0.CURRENT_COUNTRY,
        rr1_0.CURRENT_VILLAGE,
        rr1_0.EMAIL,
        rr1_0.FIRST_NAME,
        rr1_0.ID_CARD_ID,
        rr1_0.IS_ACTIVE,
        rr1_0.LAST_NAME,
        rr1_0.MARITAL_STATUS,
        rr1_0.MOTHERS_FIRST_NAME,
        rr1_0.MOTHERS_LAST_NAME,
        rr1_0.NAME,
        rr1_0.NATIONALITIES,
        rr1_0.NUMBER_OF_KIDS,
        rr1_0.OCCUPATION,
        rr1_0.PASSWORD,
        rr1_0.PHONE,
        ripp1_0.registration_request_id,
        ripp1_0.ID,
        ripp1_0.CREATED_AT,
        ripp1_0.PHOTO_TYPE,
        ripp1_0.PHOTO_URL,
        ripp1_0.UPDATED_AT,
        rwip1_0.ID,
        rwip1_0.CREATED_AT,
        rwip1_0.PHOTO_URL,
        rwip1_0.registration_request_id,
        rwip1_0.UPDATED_AT,
        rr1_0.ROLE_ID,
        r1_0.ID,
        r1_0.COLOR,
        r1_0.CREATED_AT,
        r1_0.DESCRIPTION,
        r1_0.NAME,
        r1_0.UPDATED_AT,
        rr1_0.SEX,
        rr1_0.STATUS,
        rr1_0.TRIBE,
        rr1_0.UPDATED_AT,
        rr1_0.VALIDATED,
        rr1_0.WALADOM_CARD_ID 
    from
        registration_requests rr1_0 
    left join
        req_waladom_id_photos rwip1_0 
            on rr1_0.ID=rwip1_0.registration_request_id 
    left join
        req_id_proof_photos ripp1_0 
            on rr1_0.ID=ripp1_0.registration_request_id 
    left join
        ROLES r1_0 
            on r1_0.ID=rr1_0.ROLE_ID
2025-01-28 22:43:50,431 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping user with ID: RGST_37654759-38da-45ac-94ef-b48431673d69 and email: ibrahim.ahmed@example.com to UserResponseDTO.
2025-01-28 22:43:50,431 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping WaladomCardPhoto for user ID: RGST_37654759-38da-45ac-94ef-b48431673d69.
2025-01-28 22:43:50,431 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping ID proof photos for user ID: RGST_37654759-38da-45ac-94ef-b48431673d69.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping role for user ID: RGST_37654759-38da-45ac-94ef-b48431673d69.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping user with ID: RGST_0891fdc8-88f6-46ab-bfac-f99feee70394 and email: f.f@example.com to UserResponseDTO.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping WaladomCardPhoto for user ID: RGST_0891fdc8-88f6-46ab-bfac-f99feee70394.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping ID proof photos for user ID: RGST_0891fdc8-88f6-46ab-bfac-f99feee70394.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping role for user ID: RGST_0891fdc8-88f6-46ab-bfac-f99feee70394.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping user with ID: RGST_3157ea9a-268d-45a2-b098-a267d531ae0c and email: f.f@exampljje.com to UserResponseDTO.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping WaladomCardPhoto for user ID: RGST_3157ea9a-268d-45a2-b098-a267d531ae0c.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping ID proof photos for user ID: RGST_3157ea9a-268d-45a2-b098-a267d531ae0c.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping role for user ID: RGST_3157ea9a-268d-45a2-b098-a267d531ae0c.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping user with ID: RGST_cee7eed2-7ef3-4f05-a408-5c12da578eeb and email: machha@Jk.com to UserResponseDTO.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping WaladomCardPhoto for user ID: RGST_cee7eed2-7ef3-4f05-a408-5c12da578eeb.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping ID proof photos for user ID: RGST_cee7eed2-7ef3-4f05-a408-5c12da578eeb.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping role for user ID: RGST_cee7eed2-7ef3-4f05-a408-5c12da578eeb.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping user with ID: RGST_11120861-54b4-49f9-8b0d-487dbb0f07c6 and email: machha5F@FJk.com to UserResponseDTO.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping WaladomCardPhoto for user ID: RGST_11120861-54b4-49f9-8b0d-487dbb0f07c6.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping ID proof photos for user ID: RGST_11120861-54b4-49f9-8b0d-487dbb0f07c6.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping role for user ID: RGST_11120861-54b4-49f9-8b0d-487dbb0f07c6.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping user with ID: RGST_75276a02-bd2e-4d8a-a15c-ec537df9d280 and email: man@FJk.com to UserResponseDTO.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping WaladomCardPhoto for user ID: RGST_75276a02-bd2e-4d8a-a15c-ec537df9d280.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping ID proof photos for user ID: RGST_75276a02-bd2e-4d8a-a15c-ec537df9d280.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping role for user ID: RGST_75276a02-bd2e-4d8a-a15c-ec537df9d280.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping user with ID: RGST_3e8576f7-b815-4851-873f-51671b27ee76 and email: man@kjf.com to UserResponseDTO.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping WaladomCardPhoto for user ID: RGST_3e8576f7-b815-4851-873f-51671b27ee76.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping ID proof photos for user ID: RGST_3e8576f7-b815-4851-873f-51671b27ee76.
2025-01-28 22:43:50,432 DEBUG c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Mapping role for user ID: RGST_3e8576f7-b815-4851-873f-51671b27ee76.
2025-01-28 22:43:50,433 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Completed getAllRegistrationRequests method.
2025-01-28 22:43:50,484 INFO c.p.w.r.RegistrationRequestController [http-nio-8083-exec-7] Fetched 7 registration requests.
